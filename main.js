var vn,ur,hr,gn,pt=globalThis.trustedTypes,mn=pt?pt.createPolicy("lit-html",{createHTML:e=>e}):void 0,ne=`lit$${(Math.random()+"").slice(9)}$`,bn="?"+ne,rs=`<${bn}>`,Se=document,He=(e="")=>Se.createComment(e),vt=e=>e===null||typeof e!="object"&&typeof e!="function",yn=Array.isArray,ns=e=>{var t;return yn(e)||typeof((t=e)===null||t===void 0?void 0:t[Symbol.iterator])=="function"},ze=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_n=/-->/g,wn=/>/g,ue=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,En=/'/g,xn=/"/g,Tn=/^(?:script|style|textarea)$/i,is=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),N=is(1),D=Symbol.for("lit-noChange"),M=Symbol.for("lit-nothing"),Sn=new WeakMap,kn=(e,t,r)=>{var n,i;let a=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:t,o=a._$litPart$;if(o===void 0){let s=(i=r==null?void 0:r.renderBefore)!==null&&i!==void 0?i:null;a._$litPart$=o=new ke(t.insertBefore(He(),s),s,void 0,r)}return o.I(e),o},Me=Se.createTreeWalker(Se,129,null,!1),as=(e,t)=>{let r=e.length-1,n=[],i,a=t===2?"<svg>":"",o=ze;for(let c=0;c<r;c++){let u=e[c],h,l,f=-1,v=0;for(;v<u.length&&(o.lastIndex=v,l=o.exec(u),l!==null);)v=o.lastIndex,o===ze?l[1]==="!--"?o=_n:l[1]!==void 0?o=wn:l[2]!==void 0?(Tn.test(l[2])&&(i=RegExp("</"+l[2],"g")),o=ue):l[3]!==void 0&&(o=ue):o===ue?l[0]===">"?(o=i!=null?i:ze,f=-1):l[1]===void 0?f=-2:(f=o.lastIndex-l[2].length,h=l[1],o=l[3]===void 0?ue:l[3]==='"'?xn:En):o===xn||o===En?o=ue:o===_n||o===wn?o=ze:(o=ue,i=void 0);let p=o===ue&&e[c+1].startsWith("/>")?" ":"";a+=o===ze?u+rs:f>=0?(n.push(h),u.slice(0,f)+"$lit$"+u.slice(f)+ne+p):u+ne+(f===-2?(n.push(void 0),c):p)}let s=a+(e[r]||"<?>")+(t===2?"</svg>":"");return[mn!==void 0?mn.createHTML(s):s,n]},Pe=class{constructor({strings:t,_$litType$:r},n){let i;this.parts=[];let a=0,o=0,s=t.length-1,c=this.parts,[u,h]=as(t,r);if(this.el=Pe.createElement(u,n),Me.currentNode=this.el.content,r===2){let l=this.el.content,f=l.firstChild;f.remove(),l.append(...f.childNodes)}for(;(i=Me.nextNode())!==null&&c.length<s;){if(i.nodeType===1){if(i.hasAttributes()){let l=[];for(let f of i.getAttributeNames())if(f.endsWith("$lit$")||f.startsWith(ne)){let v=h[o++];if(l.push(f),v!==void 0){let p=i.getAttribute(v.toLowerCase()+"$lit$").split(ne),g=/([.?@])?(.*)/.exec(v);c.push({type:1,index:a,name:g[2],strings:p,ctor:g[1]==="."?Mn:g[1]==="?"?Pn:g[1]==="@"?An:We})}else c.push({type:6,index:a})}for(let f of l)i.removeAttribute(f)}if(Tn.test(i.tagName)){let l=i.textContent.split(ne),f=l.length-1;if(f>0){i.textContent=pt?pt.emptyScript:"";for(let v=0;v<f;v++)i.append(l[v],He()),Me.nextNode(),c.push({type:2,index:++a});i.append(l[f],He())}}}else if(i.nodeType===8)if(i.data===bn)c.push({type:2,index:a});else{let l=-1;for(;(l=i.data.indexOf(ne,l+1))!==-1;)c.push({type:7,index:a}),l+=ne.length-1}a++}}static createElement(t,r){let n=Se.createElement("template");return n.innerHTML=t,n}};function Ae(e,t,r=e,n){var i,a,o,s;if(t===D)return t;let c=n!==void 0?(i=r.Σi)===null||i===void 0?void 0:i[n]:r.Σo,u=vt(t)?void 0:t._$litDirective$;return(c==null?void 0:c.constructor)!==u&&((a=c==null?void 0:c.O)===null||a===void 0||a.call(c,!1),u===void 0?c=void 0:(c=new u(e),c.T(e,r,n)),n!==void 0?((o=(s=r).Σi)!==null&&o!==void 0?o:s.Σi=[])[n]=c:r.Σo=c),c!==void 0&&(t=Ae(e,c.S(e,t.values),c,n)),t}var On=class{constructor(t,r){this.l=[],this.N=void 0,this.D=t,this.M=r}u(t){var r;let{el:{content:n},parts:i}=this.D,a=((r=t==null?void 0:t.creationScope)!==null&&r!==void 0?r:Se).importNode(n,!0);Me.currentNode=a;let o=Me.nextNode(),s=0,c=0,u=i[0];for(;u!==void 0;){if(s===u.index){let h;u.type===2?h=new ke(o,o.nextSibling,this,t):u.type===1?h=new u.ctor(o,u.name,u.strings,this,t):u.type===6&&(h=new Cn(o,this,t)),this.l.push(h),u=i[++c]}s!==(u==null?void 0:u.index)&&(o=Me.nextNode(),s++)}return a}v(t){let r=0;for(let n of this.l)n!==void 0&&(n.strings!==void 0?(n.I(t,n,r),r+=n.strings.length-2):n.I(t[r])),r++}},ke=class{constructor(t,r,n,i){this.type=2,this.N=void 0,this.A=t,this.B=r,this.M=n,this.options=i}setConnected(t){var r;(r=this.P)===null||r===void 0||r.call(this,t)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(t,r=this){t=Ae(this,t,r),vt(t)?t===M||t==null||t===""?(this.H!==M&&this.R(),this.H=M):t!==this.H&&t!==D&&this.m(t):t._$litType$!==void 0?this._(t):t.nodeType!==void 0?this.$(t):ns(t)?this.g(t):this.m(t)}k(t,r=this.B){return this.A.parentNode.insertBefore(t,r)}$(t){this.H!==t&&(this.R(),this.H=this.k(t))}m(t){let r=this.A.nextSibling;r!==null&&r.nodeType===3&&(this.B===null?r.nextSibling===null:r===this.B.previousSibling)?r.data=t:this.$(Se.createTextNode(t)),this.H=t}_(t){var r;let{values:n,_$litType$:i}=t,a=typeof i=="number"?this.C(t):(i.el===void 0&&(i.el=Pe.createElement(i.h,this.options)),i);if(((r=this.H)===null||r===void 0?void 0:r.D)===a)this.H.v(n);else{let o=new On(a,this),s=o.u(this.options);o.v(n),this.$(s),this.H=o}}C(t){let r=Sn.get(t.strings);return r===void 0&&Sn.set(t.strings,r=new Pe(t)),r}g(t){yn(this.H)||(this.H=[],this.R());let r=this.H,n,i=0;for(let a of t)i===r.length?r.push(n=new ke(this.k(He()),this.k(He()),this,this.options)):n=r[i],n.I(a),i++;i<r.length&&(this.R(n&&n.B.nextSibling,i),r.length=i)}R(t=this.A.nextSibling,r){var n;for((n=this.P)===null||n===void 0||n.call(this,!1,!0,r);t&&t!==this.B;){let i=t.nextSibling;t.remove(),t=i}}},We=class{constructor(t,r,n,i,a){this.type=1,this.H=M,this.N=void 0,this.V=void 0,this.element=t,this.name=r,this.M=i,this.options=a,n.length>2||n[0]!==""||n[1]!==""?(this.H=Array(n.length-1).fill(M),this.strings=n):this.H=M}get tagName(){return this.element.tagName}I(t,r=this,n,i){let a=this.strings,o=!1;if(a===void 0)t=Ae(this,t,r,0),o=!vt(t)||t!==this.H&&t!==D,o&&(this.H=t);else{let s=t,c,u;for(t=a[0],c=0;c<a.length-1;c++)u=Ae(this,s[n+c],r,c),u===D&&(u=this.H[c]),o||(o=!vt(u)||u!==this.H[c]),u===M?t=M:t!==M&&(t+=(u!=null?u:"")+a[c+1]),this.H[c]=u}o&&!i&&this.W(t)}W(t){t===M?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}},Mn=class extends We{constructor(){super(...arguments),this.type=3}W(t){this.element[this.name]=t===M?void 0:t}},Pn=class extends We{constructor(){super(...arguments),this.type=4}W(t){t&&t!==M?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}},An=class extends We{constructor(){super(...arguments),this.type=5}I(t,r=this){var n;if((t=(n=Ae(this,t,r,0))!==null&&n!==void 0?n:M)===D)return;let i=this.H,a=t===M&&i!==M||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==M&&(i===M||a);a&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this.H=t}handleEvent(t){var r,n;typeof this.H=="function"?this.H.call((n=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&n!==void 0?n:this.element,t):this.H.handleEvent(t)}},Cn=class{constructor(t,r,n){this.element=t,this.type=6,this.N=void 0,this.V=void 0,this.M=r,this.options=n}I(t){Ae(this,t)}};(ur=(vn=globalThis).litHtmlPlatformSupport)===null||ur===void 0||ur.call(vn,Pe,ke),((hr=(gn=globalThis).litHtmlVersions)!==null&&hr!==void 0?hr:gn.litHtmlVersions=[]).push("2.0.0-rc.2");var lr=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,dr=Symbol(),gt=class{constructor(t,r){if(r!==dr)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return lr&&this.t===void 0&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}toString(){return this.cssText}},os=e=>new gt(e+"",dr),$n=new Map,C=(e,...t)=>{let r=t.reduce((i,a,o)=>i+(s=>{if(s instanceof gt)return s.cssText;if(typeof s=="number")return s;throw Error(`Value passed to 'css' function must be a 'css' function result: ${s}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)})(a)+e[o+1],e[0]),n=$n.get(r);return n===void 0&&$n.set(r,n=new gt(r,dr)),n},ss=(e,t)=>{lr?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{let n=document.createElement("style");n.textContent=r.cssText,e.appendChild(n)})},Nn=lr?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let n of t.cssRules)r+=n.cssText;return os(r)})(e):e;var In,fr,pr,Ln,vr={toAttribute(e,t){switch(t){case Boolean:e=e?"":null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(n){r=null}}return r}},Rn=(e,t)=>t!==e&&(t==t||e==e),gr={attribute:!0,type:String,converter:vr,reflect:!1,hasChanged:Rn},Ve=class extends HTMLElement{constructor(){super(),this.Πi=new Map,this.Πo=void 0,this.Πl=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.Πh=null,this.u()}static addInitializer(t){var r;(r=this.v)!==null&&r!==void 0||(this.v=[]),this.v.push(t)}static get observedAttributes(){this.finalize();let t=[];return this.elementProperties.forEach((r,n)=>{let i=this.Πp(n,r);i!==void 0&&(this.Πm.set(i,n),t.push(i))}),t}static createProperty(t,r=gr){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(t,r),!r.noAccessor&&!this.prototype.hasOwnProperty(t)){let n=typeof t=="symbol"?Symbol():"__"+t,i=this.getPropertyDescriptor(t,n,r);i!==void 0&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,r,n){return{get(){return this[r]},set(i){let a=this[t];this[r]=i,this.requestUpdate(t,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||gr}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;let t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this.Πm=new Map,this.hasOwnProperty("properties")){let r=this.properties,n=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let i of n)this.createProperty(i,r[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){let r=[];if(Array.isArray(t)){let n=new Set(t.flat(1/0).reverse());for(let i of n)r.unshift(Nn(i))}else t!==void 0&&r.push(Nn(t));return r}static Πp(t,r){let n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}u(){var t;this.Πg=new Promise(r=>this.enableUpdating=r),this.L=new Map,this.Π_(),this.requestUpdate(),(t=this.constructor.v)===null||t===void 0||t.forEach(r=>r(this))}addController(t){var r,n;((r=this.ΠU)!==null&&r!==void 0?r:this.ΠU=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)===null||n===void 0||n.call(t))}removeController(t){var r;(r=this.ΠU)===null||r===void 0||r.splice(this.ΠU.indexOf(t)>>>0,1)}Π_(){this.constructor.elementProperties.forEach((t,r)=>{this.hasOwnProperty(r)&&(this.Πi.set(r,this[r]),delete this[r])})}createRenderRoot(){var t;let r=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return ss(r,this.constructor.elementStyles),r}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this.ΠU)===null||t===void 0||t.forEach(r=>{var n;return(n=r.hostConnected)===null||n===void 0?void 0:n.call(r)}),this.Πl&&(this.Πl(),this.Πo=this.Πl=void 0)}enableUpdating(t){}disconnectedCallback(){var t;(t=this.ΠU)===null||t===void 0||t.forEach(r=>{var n;return(n=r.hostDisconnected)===null||n===void 0?void 0:n.call(r)}),this.Πo=new Promise(r=>this.Πl=r)}attributeChangedCallback(t,r,n){this.K(t,n)}Πj(t,r,n=gr){var i,a;let o=this.constructor.Πp(t,n);if(o!==void 0&&n.reflect===!0){let s=((a=(i=n.converter)===null||i===void 0?void 0:i.toAttribute)!==null&&a!==void 0?a:vr.toAttribute)(r,n.type);this.Πh=t,s==null?this.removeAttribute(o):this.setAttribute(o,s),this.Πh=null}}K(t,r){var n,i,a;let o=this.constructor,s=o.Πm.get(t);if(s!==void 0&&this.Πh!==s){let c=o.getPropertyOptions(s),u=c.converter,h=(a=(i=(n=u)===null||n===void 0?void 0:n.fromAttribute)!==null&&i!==void 0?i:typeof u=="function"?u:null)!==null&&a!==void 0?a:vr.fromAttribute;this.Πh=s,this[s]=h(r,c.type),this.Πh=null}}requestUpdate(t,r,n){let i=!0;t!==void 0&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||Rn)(this[t],r)?(this.L.has(t)||this.L.set(t,r),n.reflect===!0&&this.Πh!==t&&(this.Πk===void 0&&(this.Πk=new Map),this.Πk.set(t,n))):i=!1),!this.isUpdatePending&&i&&(this.Πg=this.Πq())}async Πq(){this.isUpdatePending=!0;try{for(await this.Πg;this.Πo;)await this.Πo}catch(r){Promise.reject(r)}let t=this.performUpdate();return t!=null&&await t,!this.isUpdatePending}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this.Πi&&(this.Πi.forEach((i,a)=>this[a]=i),this.Πi=void 0);let r=!1,n=this.L;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(t=this.ΠU)===null||t===void 0||t.forEach(i=>{var a;return(a=i.hostUpdate)===null||a===void 0?void 0:a.call(i)}),this.update(n)):this.Π$()}catch(i){throw r=!1,this.Π$(),i}r&&this.E(n)}willUpdate(t){}E(t){var r;(r=this.ΠU)===null||r===void 0||r.forEach(n=>{var i;return(i=n.hostUpdated)===null||i===void 0?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}Π$(){this.L=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.Πg}shouldUpdate(t){return!0}update(t){this.Πk!==void 0&&(this.Πk.forEach((r,n)=>this.Πj(n,this[n],r)),this.Πk=void 0),this.Π$()}updated(t){}firstUpdated(t){}};Ve.finalized=!0,Ve.shadowRootOptions={mode:"open"},(fr=(In=globalThis).reactiveElementPlatformSupport)===null||fr===void 0||fr.call(In,{ReactiveElement:Ve}),((pr=(Ln=globalThis).reactiveElementVersions)!==null&&pr!==void 0?pr:Ln.reactiveElementVersions=[]).push("1.0.0-rc.1");var mr,jn,br,Dn,yr,Bn;((mr=(Bn=globalThis).litElementVersions)!==null&&mr!==void 0?mr:Bn.litElementVersions=[]).push("3.0.0-rc.1");var W=class extends Ve{constructor(){super(...arguments),this.renderOptions={host:this},this.Φt=void 0}createRenderRoot(){var t,r;let n=super.createRenderRoot();return(t=(r=this.renderOptions).renderBefore)!==null&&t!==void 0||(r.renderBefore=n.firstChild),n}update(t){let r=this.render();super.update(t),this.Φt=kn(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this.Φt)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this.Φt)===null||t===void 0||t.setConnected(!1)}render(){return D}};W.finalized=!0,W._$litElement$=!0,(br=(jn=globalThis).litElementHydrateSupport)===null||br===void 0||br.call(jn,{LitElement:W}),(yr=(Dn=globalThis).litElementPlatformSupport)===null||yr===void 0||yr.call(Dn,{LitElement:W});var Oe=e=>t=>typeof t=="function"?((r,n)=>(window.customElements.define(r,n),n))(e,t):((r,n)=>{let{kind:i,elements:a}=n;return{kind:i,elements:a,finisher(o){window.customElements.define(r,o)}}})(e,t);var cs=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(r){r.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}};function $(e){return(t,r)=>r!==void 0?((n,i,a)=>{i.constructor.createProperty(a,n)})(e,t,r):cs(e,t)}var mt={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},bt=e=>(...t)=>({_$litDirective$:e,values:t}),qe=class{constructor(t){}T(t,r,n){this.Σdt=t,this.M=r,this.Σct=n}S(t,r){return this.update(t,r)}update(t,r){return this.render(...r)}};var us=e=>e.strings===void 0;var Ye=(e,t)=>{var r,n;let i=e.N;if(i===void 0)return!1;for(let a of i)(n=(r=a).O)===null||n===void 0||n.call(r,t,!1),Ye(a,t);return!0},yt=e=>{let t,r;do{if((t=e.M)===void 0)break;r=t.N,r.delete(e),e=t}while((r==null?void 0:r.size)===0)},Fn=e=>{for(let t;t=e.M;e=t){let r=t.N;if(r===void 0)t.N=r=new Set;else if(r.has(e))break;r.add(e),hs(t)}};function ls(e){this.N!==void 0?(yt(this),this.M=e,Fn(this)):this.M=e}function ds(e,t=!1,r=0){let n=this.H,i=this.N;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(n))for(let a=r;a<n.length;a++)Ye(n[a],!1),yt(n[a]);else n!=null&&(Ye(n,!1),yt(n));else Ye(this,e)}var hs=e=>{var t,r,n,i;e.type==mt.CHILD&&((t=(n=e).P)!==null&&t!==void 0||(n.P=ds),(r=(i=e).Q)!==null&&r!==void 0||(i.Q=ls))},Gn=class extends qe{constructor(){super(...arguments),this.isConnected=!0,this.ut=D,this.N=void 0}T(t,r,n){super.T(t,r,n),Fn(this)}O(t,r=!0){this.at(t),r&&(Ye(this,t),yt(this))}at(t){var r,n;t!==this.isConnected&&(t?(this.isConnected=!0,this.ut!==D&&(this.setValue(this.ut),this.ut=D),(r=this.reconnected)===null||r===void 0||r.call(this)):(this.isConnected=!1,(n=this.disconnected)===null||n===void 0||n.call(this)))}S(t,r){if(!this.isConnected)throw Error(`AsyncDirective ${this.constructor.name} was rendered while its tree was disconnected.`);return super.S(t,r)}setValue(t){if(this.isConnected)if(us(this.Σdt))this.Σdt.I(t,this);else{let r=[...this.Σdt.H];r[this.Σct]=t,this.Σdt.I(r,this,0)}else this.ut=t}disconnected(){}reconnected(){}};var Hn=()=>new Un,Un=class{},_r=new WeakMap,zn=bt(class extends Gn{render(e){return M}update(e,[t]){var r;let n=t!==this.gt;return n&&this.gt!==void 0&&this.xt(void 0),(n||this.Tt!==this.Et)&&(this.gt=t,this.At=(r=e.options)===null||r===void 0?void 0:r.host,this.xt(this.Et=e.element)),M}xt(e){typeof this.gt=="function"?(_r.get(this.gt)!==void 0&&this.gt.call(this.At,void 0),_r.set(this.gt,e),e!==void 0&&this.gt.call(this.At,e)):this.gt.value=e}get Tt(){var e;return typeof this.gt=="function"?_r.get(this.gt):(e=this.gt)===null||e===void 0?void 0:e.value}disconnected(){this.Tt===this.Et&&this.xt(void 0)}reconnected(){this.xt(this.Et)}});function wr(e,t,r){if(e&&e.length){let[n,i]=t,a=Math.PI/180*r,o=Math.cos(a),s=Math.sin(a);e.forEach(c=>{let[u,h]=c;c[0]=(u-n)*o-(h-i)*s+n,c[1]=(u-n)*s+(h-i)*o+i})}}function ie(e){let t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}function fs(e,t,r,n){let i=t[1]-e[1],a=e[0]-t[0],o=i*e[0]+a*e[1],s=n[1]-r[1],c=r[0]-n[0],u=s*r[0]+c*r[1],h=i*c-s*a;return h?[(c*o-a*u)/h,(i*u-s*o)/h]:null}function Er(e,t,r){let n=e.length;if(n<3)return!1;let i=[Number.MAX_SAFE_INTEGER,r],a=[t,r],o=0;for(let s=0;s<n;s++){let c=e[s],u=e[(s+1)%n];if(Wn(c,u,a,i)){if(Ze(c,a,u)===0)return Ke(c,a,u);o++}}return o%2==1}function Ke(e,t,r){return t[0]<=Math.max(e[0],r[0])&&t[0]>=Math.min(e[0],r[0])&&t[1]<=Math.max(e[1],r[1])&&t[1]>=Math.min(e[1],r[1])}function Ze(e,t,r){let n=(t[1]-e[1])*(r[0]-t[0])-(t[0]-e[0])*(r[1]-t[1]);return n===0?0:n>0?1:2}function Wn(e,t,r,n){let i=Ze(e,t,r),a=Ze(e,t,n),o=Ze(r,n,e),s=Ze(r,n,t);return i!==a&&o!==s||!(i!==0||!Ke(e,r,t))||!(a!==0||!Ke(e,n,t))||!(o!==0||!Ke(r,e,n))||!(s!==0||!Ke(r,t,n))}function _t(e,t){let r=[0,0],n=Math.round(t.hachureAngle+90);n&&wr(e,r,n);let i=function(a,o){let s=[...a];s[0].join(",")!==s[s.length-1].join(",")&&s.push([s[0][0],s[0][1]]);let c=[];if(s&&s.length>2){let u=o.hachureGap;u<0&&(u=4*o.strokeWidth),u=Math.max(u,.1);let h=[];for(let v=0;v<s.length-1;v++){let p=s[v],g=s[v+1];if(p[1]!==g[1]){let m=Math.min(p[1],g[1]);h.push({ymin:m,ymax:Math.max(p[1],g[1]),x:m===p[1]?p[0]:g[0],islope:(g[0]-p[0])/(g[1]-p[1])})}}if(h.sort((v,p)=>v.ymin<p.ymin?-1:v.ymin>p.ymin?1:v.x<p.x?-1:v.x>p.x?1:v.ymax===p.ymax?0:(v.ymax-p.ymax)/Math.abs(v.ymax-p.ymax)),!h.length)return c;let l=[],f=h[0].ymin;for(;l.length||h.length;){if(h.length){let v=-1;for(let p=0;p<h.length&&!(h[p].ymin>f);p++)v=p;h.splice(0,v+1).forEach(p=>{l.push({s:f,edge:p})})}if(l=l.filter(v=>!(v.edge.ymax<=f)),l.sort((v,p)=>v.edge.x===p.edge.x?0:(v.edge.x-p.edge.x)/Math.abs(v.edge.x-p.edge.x)),l.length>1)for(let v=0;v<l.length;v+=2){let p=v+1;if(p>=l.length)break;let g=l[v].edge,m=l[p].edge;c.push([[Math.round(g.x),f],[Math.round(m.x),f]])}f+=u,l.forEach(v=>{v.edge.x=v.edge.x+u*v.edge.islope})}}return c}(e,t);return n&&(wr(e,r,-n),function(a,o,s){let c=[];a.forEach(u=>c.push(...u)),wr(c,o,s)}(i,r,-n)),i}var wt=class{constructor(t){this.helper=t}fillPolygon(t,r){return this._fillPolygon(t,r)}_fillPolygon(t,r,n=!1){let i=_t(t,r);if(n){let a=this.connectingLines(t,i);i=i.concat(a)}return{type:"fillSketch",ops:this.renderLines(i,r)}}renderLines(t,r){let n=[];for(let i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}connectingLines(t,r){let n=[];if(r.length>1)for(let i=1;i<r.length;i++){let a=r[i-1];if(ie(a)<3)continue;let o=[r[i][0],a[1]];if(ie(o)>3){let s=this.splitOnIntersections(t,o);n.push(...s)}}return n}midPointInPolygon(t,r){return Er(t,(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2)}splitOnIntersections(t,r){let n=Math.max(5,.1*ie(r)),i=[];for(let a=0;a<t.length;a++){let o=t[a],s=t[(a+1)%t.length];if(Wn(o,s,...r)){let c=fs(o,s,r[0],r[1]);if(c){let u=ie([c,r[0]]),h=ie([c,r[1]]);u>n&&h>n&&i.push({point:c,distance:u})}}}if(i.length>1){let a=i.sort((c,u)=>c.distance-u.distance).map(c=>c.point);if(Er(t,...r[0])||a.shift(),Er(t,...r[1])||a.pop(),a.length<=1)return this.midPointInPolygon(t,r)?[r]:[];let o=[r[0],...a,r[1]],s=[];for(let c=0;c<o.length-1;c+=2){let u=[o[c],o[c+1]];this.midPointInPolygon(t,u)&&s.push(u)}return s}return this.midPointInPolygon(t,r)?[r]:[]}},Vn=class extends wt{fillPolygon(t,r){return this._fillPolygon(t,r,!0)}},qn=class extends wt{fillPolygon(t,r){let n=this._fillPolygon(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygon(t,i);return n.ops=n.ops.concat(a.ops),n}},Yn=class{constructor(t){this.helper=t}fillPolygon(t,r){let n=_t(t,r=Object.assign({},r,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){let n=[],i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);let o=i/4;for(let s of t){let c=ie(s),u=c/i,h=Math.ceil(u)-1,l=c-h*i,f=(s[0][0]+s[1][0])/2-i/4,v=Math.min(s[0][1],s[1][1]);for(let p=0;p<h;p++){let g=v+l+p*i,m=this.helper.randOffsetWithRange(f-o,f+o,r),y=this.helper.randOffsetWithRange(g-o,g+o,r),E=this.helper.ellipse(m,y,a,a,r);n.push(...E.ops)}}return{type:"fillSketch",ops:n}}},Kn=class{constructor(t){this.helper=t}fillPolygon(t,r){let n=_t(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){let n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return t.forEach(o=>{let s=ie(o),c=Math.floor(s/(n+i)),u=(s+i-c*(n+i))/2,h=o[0],l=o[1];h[0]>l[0]&&(h=o[1],l=o[0]);let f=Math.atan((l[1]-h[1])/(l[0]-h[0]));for(let v=0;v<c;v++){let p=v*(n+i),g=p+n,m=[h[0]+p*Math.cos(f)+u*Math.cos(f),h[1]+p*Math.sin(f)+u*Math.sin(f)],y=[h[0]+g*Math.cos(f)+u*Math.cos(f),h[1]+g*Math.sin(f)+u*Math.sin(f)];a.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],r))}}),a}},Zn=class{constructor(t){this.helper=t}fillPolygon(t,r){let n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,a=_t(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,r)}}zigzagLines(t,r,n){let i=[];return t.forEach(a=>{let o=ie(a),s=Math.round(o/(2*r)),c=a[0],u=a[1];c[0]>u[0]&&(c=a[1],u=a[0]);let h=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let l=0;l<s;l++){let f=2*l*r,v=2*(l+1)*r,p=Math.sqrt(2*Math.pow(r,2)),g=[c[0]+f*Math.cos(h),c[1]+f*Math.sin(h)],m=[c[0]+v*Math.cos(h),c[1]+v*Math.sin(h)],y=[g[0]+p*Math.cos(h+Math.PI/4),g[1]+p*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],n),...this.helper.doubleLineOps(y[0],y[1],m[0],m[1],n))}}),i}},I={},Xn=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}},Et={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function xr(e,t){return e.type===t}function Tr(e){let t=[],r=function(o){let s=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))s[s.length]={type:0,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];s[s.length]={type:1,text:""+parseFloat(RegExp.$1)},o=o.substr(RegExp.$1.length)}return s[s.length]={type:2,text:""},s}(e),n="BOD",i=0,a=r[i];for(;!xr(a,2);){let o=0,s=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return Tr("M0,0"+e);i++,o=Et[a.text],n=a.text}else xr(a,1)?o=Et[n]:(i++,o=Et[a.text],n=a.text);if(!(i+o<r.length))throw new Error("Path data ended short");for(let c=i;c<i+o;c++){let u=r[c];if(!xr(u,1))throw new Error("Param not a number: "+n+","+u.text);s[s.length]=+u.text}if(typeof Et[n]!="number")throw new Error("Bad segment: "+n);{let c={key:n,data:s};t.push(c),i+=o,a=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function Qn(e){let t=0,r=0,n=0,i=0,a=[];for(let{key:o,data:s}of e)switch(o){case"M":a.push({key:"M",data:[...s]}),[t,r]=s,[n,i]=s;break;case"m":t+=s[0],r+=s[1],a.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":a.push({key:"L",data:[...s]}),[t,r]=s;break;case"l":t+=s[0],r+=s[1],a.push({key:"L",data:[t,r]});break;case"C":a.push({key:"C",data:[...s]}),t=s[4],r=s[5];break;case"c":{let c=s.map((u,h)=>h%2?u+r:u+t);a.push({key:"C",data:c}),t=c[4],r=c[5];break}case"Q":a.push({key:"Q",data:[...s]}),t=s[2],r=s[3];break;case"q":{let c=s.map((u,h)=>h%2?u+r:u+t);a.push({key:"Q",data:c}),t=c[2],r=c[3];break}case"A":a.push({key:"A",data:[...s]}),t=s[5],r=s[6];break;case"a":t+=s[5],r+=s[6],a.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,r]});break;case"H":a.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...s]}),r=s[0];break;case"v":r+=s[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...s]}),t=s[2],r=s[3];break;case"s":{let c=s.map((u,h)=>h%2?u+r:u+t);a.push({key:"S",data:c}),t=c[2],r=c[3];break}case"T":a.push({key:"T",data:[...s]}),t=s[0],r=s[1];break;case"t":t+=s[0],r+=s[1],a.push({key:"T",data:[t,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=n,r=i}return a}function ei(e){let t=[],r="",n=0,i=0,a=0,o=0,s=0,c=0;for(let{key:u,data:h}of e){switch(u){case"M":t.push({key:"M",data:[...h]}),[n,i]=h,[a,o]=h;break;case"C":t.push({key:"C",data:[...h]}),n=h[4],i=h[5],s=h[2],c=h[3];break;case"L":t.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],t.push({key:"L",data:[n,i]});break;case"V":i=h[0],t.push({key:"L",data:[n,i]});break;case"S":{let l=0,f=0;r==="C"||r==="S"?(l=n+(n-s),f=i+(i-c)):(l=n,f=i),t.push({key:"C",data:[l,f,...h]}),s=h[0],c=h[1],n=h[2],i=h[3];break}case"T":{let[l,f]=h,v=0,p=0;r==="Q"||r==="T"?(v=n+(n-s),p=i+(i-c)):(v=n,p=i);let g=n+2*(v-n)/3,m=i+2*(p-i)/3,y=l+2*(v-l)/3,E=f+2*(p-f)/3;t.push({key:"C",data:[g,m,y,E,l,f]}),s=v,c=p,n=l,i=f;break}case"Q":{let[l,f,v,p]=h,g=n+2*(l-n)/3,m=i+2*(f-i)/3,y=v+2*(l-v)/3,E=p+2*(f-p)/3;t.push({key:"C",data:[g,m,y,E,v,p]}),s=l,c=f,n=v,i=p;break}case"A":{let l=Math.abs(h[0]),f=Math.abs(h[1]),v=h[2],p=h[3],g=h[4],m=h[5],y=h[6];l===0||f===0?(t.push({key:"C",data:[n,i,m,y,m,y]}),n=m,i=y):(n!==m||i!==y)&&(Jn(n,i,m,y,l,f,v,p,g).forEach(function(E){t.push({key:"C",data:E})}),n=m,i=y);break}case"Z":t.push({key:"Z",data:[]}),n=a,i=o}r=u}return t}function Xe(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function Jn(e,t,r,n,i,a,o,s,c,u){let h=(l=o,Math.PI*l/180);var l;let f=[],v=0,p=0,g=0,m=0;if(u)[v,p,g,m]=u;else{[e,t]=Xe(e,t,-h),[r,n]=Xe(r,n,-h);let F=(e-r)/2,P=(t-n)/2,Z=F*F/(i*i)+P*P/(a*a);Z>1&&(Z=Math.sqrt(Z),i*=Z,a*=Z);let xe=i*i,Te=a*a,es=xe*Te-xe*P*P-Te*F*F,ts=xe*P*P+Te*F*F,pn=(s===c?-1:1)*Math.sqrt(Math.abs(es/ts));g=pn*i*P/a+(e+r)/2,m=pn*-a*F/i+(t+n)/2,v=Math.asin(parseFloat(((t-m)/a).toFixed(9))),p=Math.asin(parseFloat(((n-m)/a).toFixed(9))),e<g&&(v=Math.PI-v),r<g&&(p=Math.PI-p),v<0&&(v=2*Math.PI+v),p<0&&(p=2*Math.PI+p),c&&v>p&&(v-=2*Math.PI),!c&&p>v&&(p-=2*Math.PI)}let y=p-v;if(Math.abs(y)>120*Math.PI/180){let F=p,P=r,Z=n;p=c&&p>v?v+120*Math.PI/180*1:v+120*Math.PI/180*-1,f=Jn(r=g+i*Math.cos(p),n=m+a*Math.sin(p),P,Z,i,a,o,0,c,[p,F,g,m])}y=p-v;let E=Math.cos(v),R=Math.sin(v),O=Math.cos(p),x=Math.sin(p),j=Math.tan(y/4),J=4/3*i*j,K=4/3*a*j,ft=[e,t],z=[e+J*R,t-K*E],ce=[r+J*x,n-K*O],fn=[r,n];if(z[0]=2*ft[0]-z[0],z[1]=2*ft[1]-z[1],u)return[z,ce,fn].concat(f);{f=[z,ce,fn].concat(f);let F=[];for(let P=0;P<f.length;P+=3){let Z=Xe(f[P][0],f[P][1],h),xe=Xe(f[P+1][0],f[P+1][1],h),Te=Xe(f[P+2][0],f[P+2][1],h);F.push([Z[0],Z[1],xe[0],xe[1],Te[0],Te[1]])}return F}}var ps={randOffset:function(e,t){return _(e,t)},randOffsetWithRange:function(e,t,r){return xt(e,t,r)},ellipse:function(e,t,r,n,i){let a=ti(r,n,i);return Sr(e,t,i,a).opset},doubleLineOps:function(e,t,r,n,i){return ee(e,t,r,n,i,!0)}};function ri(e,t,r,n,i){return{type:"path",ops:ee(e,t,r,n,i)}}function Tt(e,t,r){let n=(e||[]).length;if(n>2){let i=[];for(let a=0;a<n-1;a++)i.push(...ee(e[a][0],e[a][1],e[a+1][0],e[a+1][1],r));return t&&i.push(...ee(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?ri(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function vs(e,t,r,n,i){return function(a,o){return Tt(a,!0,o)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function gs(e,t){let r=ni(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){let n=ni(e,1.5*(1+.22*t.roughness),function(i){let a=Object.assign({},i);return a.randomizer=void 0,i.seed&&(a.seed=i.seed+1),a}(t));r=r.concat(n)}return{type:"path",ops:r}}function ti(e,t,r){let n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n),a=2*Math.PI/i,o=Math.abs(e/2),s=Math.abs(t/2),c=1-r.curveFitting;return o+=_(o*c,r),s+=_(s*c,r),{increment:a,rx:o,ry:s}}function Sr(e,t,r,n){let[i,a]=ii(n.increment,e,t,n.rx,n.ry,1,n.increment*xt(.1,xt(.4,1,r),r),r),o=St(i,null,r);if(!r.disableMultiStroke){let[s]=ii(n.increment,e,t,n.rx,n.ry,1.5,0,r),c=St(s,null,r);o=o.concat(c)}return{estimatedPoints:a,opset:{type:"path",ops:o}}}function oi(e,t,r,n,i,a,o,s,c){let u=e,h=t,l=Math.abs(r/2),f=Math.abs(n/2);l+=_(.01*l,c),f+=_(.01*f,c);let v=i,p=a;for(;v<0;)v+=2*Math.PI,p+=2*Math.PI;p-v>2*Math.PI&&(v=0,p=2*Math.PI);let g=2*Math.PI/c.curveStepCount,m=Math.min(g/2,(p-v)/2),y=ai(m,u,h,l,f,v,p,1,c);if(!c.disableMultiStroke){let E=ai(m,u,h,l,f,v,p,1.5,c);y.push(...E)}return o&&(s?y.push(...ee(u,h,u+l*Math.cos(v),h+f*Math.sin(v),c),...ee(u,h,u+l*Math.cos(p),h+f*Math.sin(p),c)):y.push({op:"lineTo",data:[u,h]},{op:"lineTo",data:[u+l*Math.cos(v),h+f*Math.sin(v)]})),{type:"path",ops:y}}function Qe(e,t){let r=[];if(e.length){let n=t.maxRandomnessOffset||0,i=e.length;if(i>2){r.push({op:"move",data:[e[0][0]+_(n,t),e[0][1]+_(n,t)]});for(let a=1;a<i;a++)r.push({op:"lineTo",data:[e[a][0]+_(n,t),e[a][1]+_(n,t)]})}}return{type:"fillPath",ops:r}}function he(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!I[i])switch(i){case"zigzag":I[i]||(I[i]=new Vn(n));break;case"cross-hatch":I[i]||(I[i]=new qn(n));break;case"dots":I[i]||(I[i]=new Yn(n));break;case"dashed":I[i]||(I[i]=new Kn(n));break;case"zigzag-line":I[i]||(I[i]=new Zn(n));break;case"hachure":default:i="hachure",I[i]||(I[i]=new wt(n))}return I[i]}(t,ps).fillPolygon(e,t)}function si(e){return e.randomizer||(e.randomizer=new Xn(e.seed||0)),e.randomizer.next()}function xt(e,t,r,n=1){return r.roughness*n*(si(r)*(t-e)+e)}function _(e,t,r=1){return xt(-e,e,t,r)}function ee(e,t,r,n,i,a=!1){let o=a?i.disableMultiStrokeFill:i.disableMultiStroke,s=ci(e,t,r,n,i,!0,!1);if(o)return s;let c=ci(e,t,r,n,i,!0,!0);return s.concat(c)}function ci(e,t,r,n,i,a,o){let s=Math.pow(e-r,2)+Math.pow(t-n,2),c=Math.sqrt(s),u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>s&&(h=c/10);let l=h/2,f=.2+.2*si(i),v=i.bowing*i.maxRandomnessOffset*(n-t)/200,p=i.bowing*i.maxRandomnessOffset*(e-r)/200;v=_(v,i,u),p=_(p,i,u);let g=[],m=()=>_(l,i,u),y=()=>_(h,i,u);return a&&(o?g.push({op:"move",data:[e+m(),t+m()]}):g.push({op:"move",data:[e+_(h,i,u),t+_(h,i,u)]})),o?g.push({op:"bcurveTo",data:[v+e+(r-e)*f+m(),p+t+(n-t)*f+m(),v+e+2*(r-e)*f+m(),p+t+2*(n-t)*f+m(),r+m(),n+m()]}):g.push({op:"bcurveTo",data:[v+e+(r-e)*f+y(),p+t+(n-t)*f+y(),v+e+2*(r-e)*f+y(),p+t+2*(n-t)*f+y(),r+y(),n+y()]}),g}function ni(e,t,r){let n=[];n.push([e[0][0]+_(t,r),e[0][1]+_(t,r)]),n.push([e[0][0]+_(t,r),e[0][1]+_(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+_(t,r),e[i][1]+_(t,r)]),i===e.length-1&&n.push([e[i][0]+_(t,r),e[i][1]+_(t,r)]);return St(n,null,r)}function St(e,t,r){let n=e.length,i=[];if(n>3){let a=[],o=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let s=1;s+2<n;s++){let c=e[s];a[0]=[c[0],c[1]],a[1]=[c[0]+(o*e[s+1][0]-o*e[s-1][0])/6,c[1]+(o*e[s+1][1]-o*e[s-1][1])/6],a[2]=[e[s+1][0]+(o*e[s][0]-o*e[s+2][0])/6,e[s+1][1]+(o*e[s][1]-o*e[s+2][1])/6],a[3]=[e[s+1][0],e[s+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&t.length===2){let s=r.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+_(s,r),t[1]+_(s,r)]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...ee(e[0][0],e[0][1],e[1][0],e[1][1],r));return i}function ii(e,t,r,n,i,a,o,s){let c=[],u=[],h=_(.5,s)-Math.PI/2;u.push([_(a,s)+t+.9*n*Math.cos(h-e),_(a,s)+r+.9*i*Math.sin(h-e)]);for(let l=h;l<2*Math.PI+h-.01;l+=e){let f=[_(a,s)+t+n*Math.cos(l),_(a,s)+r+i*Math.sin(l)];c.push(f),u.push(f)}return u.push([_(a,s)+t+n*Math.cos(h+2*Math.PI+.5*o),_(a,s)+r+i*Math.sin(h+2*Math.PI+.5*o)]),u.push([_(a,s)+t+.98*n*Math.cos(h+o),_(a,s)+r+.98*i*Math.sin(h+o)]),u.push([_(a,s)+t+.9*n*Math.cos(h+.5*o),_(a,s)+r+.9*i*Math.sin(h+.5*o)]),[u,c]}function ai(e,t,r,n,i,a,o,s,c){let u=a+_(.1,c),h=[];h.push([_(s,c)+t+.9*n*Math.cos(u-e),_(s,c)+r+.9*i*Math.sin(u-e)]);for(let l=u;l<=o;l+=e)h.push([_(s,c)+t+n*Math.cos(l),_(s,c)+r+i*Math.sin(l)]);return h.push([t+n*Math.cos(o),r+i*Math.sin(o)]),h.push([t+n*Math.cos(o),r+i*Math.sin(o)]),St(h,null,c)}function ms(e,t,r,n,i,a,o,s){let c=[],u=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3],h=[0,0],l=s.disableMultiStroke?1:2;for(let f=0;f<l;f++)f===0?c.push({op:"move",data:[o[0],o[1]]}):c.push({op:"move",data:[o[0]+_(u[0],s),o[1]+_(u[0],s)]}),h=[i+_(u[f],s),a+_(u[f],s)],c.push({op:"bcurveTo",data:[e+_(u[f],s),t+_(u[f],s),r+_(u[f],s),n+_(u[f],s),h[0],h[1]]});return c}function Je(e){return[...e]}function kt(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function bs(e,t,r){let n=kt(t,r);if(n===0)return kt(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),kt(e,le(t,r,i))}function le(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function kr(e,t,r,n){let i=n||[];if(function(s,c){let u=s[c+0],h=s[c+1],l=s[c+2],f=s[c+3],v=3*h[0]-2*u[0]-f[0];v*=v;let p=3*h[1]-2*u[1]-f[1];p*=p;let g=3*l[0]-2*f[0]-u[0];g*=g;let m=3*l[1]-2*f[1]-u[1];return m*=m,v<g&&(v=g),p<m&&(p=m),v+p}(e,t)<r){let s=e[t+0];i.length?(a=i[i.length-1],o=s,Math.sqrt(kt(a,o))>1&&i.push(s)):i.push(s),i.push(e[t+3])}else{let s=.5,c=e[t+0],u=e[t+1],h=e[t+2],l=e[t+3],f=le(c,u,s),v=le(u,h,s),p=le(h,l,s),g=le(f,v,s),m=le(v,p,s),y=le(g,m,s);kr([c,f,g,y],0,r,i),kr([y,m,p,l],0,r,i)}var a,o;return i}function ys(e,t){return Mt(e,0,e.length,t)}function Mt(e,t,r,n,i){let a=i||[],o=e[t],s=e[r-1],c=0,u=1;for(let h=t+1;h<r-1;++h){let l=bs(e[h],o,s);l>c&&(c=l,u=h)}return Math.sqrt(c)>n?(Mt(e,t,u+1,n,a),Mt(e,u,r,n,a)):(a.length||a.push(o),a.push(s)),a}function ui(e,t=.15,r){let n=[],i=(e.length-1)/3;for(let a=0;a<i;a++)kr(e,3*a,t,n);return r&&r>0?Mt(n,0,n.length,r):n}var B="none",et=class{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,a){let o=this._o(a);return this._d("line",[ri(t,r,n,i,o)],o)}rectangle(t,r,n,i,a){let o=this._o(a),s=[],c=vs(t,r,n,i,o);if(o.fill){let u=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];o.fillStyle==="solid"?s.push(Qe(u,o)):s.push(he(u,o))}return o.stroke!==B&&s.push(c),this._d("rectangle",s,o)}ellipse(t,r,n,i,a){let o=this._o(a),s=[],c=ti(n,i,o),u=Sr(t,r,o,c);if(o.fill)if(o.fillStyle==="solid"){let h=Sr(t,r,o,c).opset;h.type="fillPath",s.push(h)}else s.push(he(u.estimatedPoints,o));return o.stroke!==B&&s.push(u.opset),this._d("ellipse",s,o)}circle(t,r,n,i){let a=this.ellipse(t,r,n,n,i);return a.shape="circle",a}linearPath(t,r){let n=this._o(r);return this._d("linearPath",[Tt(t,!1,n)],n)}arc(t,r,n,i,a,o,s=!1,c){let u=this._o(c),h=[],l=oi(t,r,n,i,a,o,s,!0,u);if(s&&u.fill)if(u.fillStyle==="solid"){let f=oi(t,r,n,i,a,o,!0,!1,u);f.type="fillPath",h.push(f)}else h.push(function(f,v,p,g,m,y,E){let R=f,O=v,x=Math.abs(p/2),j=Math.abs(g/2);x+=_(.01*x,E),j+=_(.01*j,E);let J=m,K=y;for(;J<0;)J+=2*Math.PI,K+=2*Math.PI;K-J>2*Math.PI&&(J=0,K=2*Math.PI);let ft=(K-J)/E.curveStepCount,z=[];for(let ce=J;ce<=K;ce+=ft)z.push([R+x*Math.cos(ce),O+j*Math.sin(ce)]);return z.push([R+x*Math.cos(K),O+j*Math.sin(K)]),z.push([R,O]),he(z,E)}(t,r,n,i,a,o,u));return u.stroke!==B&&h.push(l),this._d("arc",h,u)}curve(t,r){let n=this._o(r),i=[],a=gs(t,n);if(n.fill&&n.fill!==B&&t.length>=3){let o=ui(function(s,c=0){let u=s.length;if(u<3)throw new Error("A curve must have at least three points.");let h=[];if(u===3)h.push(Je(s[0]),Je(s[1]),Je(s[2]),Je(s[2]));else{let l=[];l.push(s[0],s[0]);for(let p=1;p<s.length;p++)l.push(s[p]),p===s.length-1&&l.push(s[p]);let f=[],v=1-c;h.push(Je(l[0]));for(let p=1;p+2<l.length;p++){let g=l[p];f[0]=[g[0],g[1]],f[1]=[g[0]+(v*l[p+1][0]-v*l[p-1][0])/6,g[1]+(v*l[p+1][1]-v*l[p-1][1])/6],f[2]=[l[p+1][0]+(v*l[p][0]-v*l[p+2][0])/6,l[p+1][1]+(v*l[p][1]-v*l[p+2][1])/6],f[3]=[l[p+1][0],l[p+1][1]],h.push(f[1],f[2],f[3])}}return h}(t),10,(1+n.roughness)/2);n.fillStyle==="solid"?i.push(Qe(o,n)):i.push(he(o,n))}return n.stroke!==B&&i.push(a),this._d("curve",i,n)}polygon(t,r){let n=this._o(r),i=[],a=Tt(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(Qe(t,n)):i.push(he(t,n))),n.stroke!==B&&i.push(a),this._d("polygon",i,n)}path(t,r){let n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let a=n.fill&&n.fill!=="transparent"&&n.fill!==B,o=n.stroke!==B,s=!!(n.simplification&&n.simplification<1),c=function(u,h,l){let f=ei(Qn(Tr(u))),v=[],p=[],g=[0,0],m=[],y=()=>{m.length>=4&&p.push(...ui(m,h)),m=[]},E=()=>{y(),p.length&&(v.push(p),p=[])};for(let{key:O,data:x}of f)switch(O){case"M":E(),g=[x[0],x[1]],p.push(g);break;case"L":y(),p.push([x[0],x[1]]);break;case"C":if(!m.length){let j=p.length?p[p.length-1]:g;m.push([j[0],j[1]])}m.push([x[0],x[1]]),m.push([x[2],x[3]]),m.push([x[4],x[5]]);break;case"Z":y(),p.push([g[0],g[1]])}if(E(),!l)return v;let R=[];for(let O of v){let x=ys(O,l);x.length&&R.push(x)}return R}(t,1,s?4-4*n.simplification:(1+n.roughness)/2);if(a)if(n.combineNestedSvgPaths){let u=[];c.forEach(h=>u.push(...h)),n.fillStyle==="solid"?i.push(Qe(u,n)):i.push(he(u,n))}else c.forEach(u=>{n.fillStyle==="solid"?i.push(Qe(u,n)):i.push(he(u,n))});return o&&(s?c.forEach(u=>{i.push(Tt(u,!1,n))}):i.push(function(u,h){let l=ei(Qn(Tr(u))),f=[],v=[0,0],p=[0,0];for(let{key:g,data:m}of l)switch(g){case"M":{let y=1*(h.maxRandomnessOffset||0);f.push({op:"move",data:m.map(E=>E+_(y,h))}),p=[m[0],m[1]],v=[m[0],m[1]];break}case"L":f.push(...ee(p[0],p[1],m[0],m[1],h)),p=[m[0],m[1]];break;case"C":{let[y,E,R,O,x,j]=m;f.push(...ms(y,E,R,O,x,j,p,h)),p=[x,j];break}case"Z":f.push(...ee(p[0],p[1],v[0],v[1],h)),p=[v[0],v[1]]}return{type:"path",ops:f}}(t,n))),this._d("path",i,n)}opsToPath(t){let r="";for(let n of t.ops){let i=n.data;switch(n.op){case"move":r+=`M${i[0]} ${i[1]} `;break;case"bcurveTo":r+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":r+=`L${i[0]} ${i[1]} `}}return r.trim()}toPaths(t){let r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(let a of r){let o=null;switch(a.type){case"path":o={d:this.opsToPath(a),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:B};break;case"fillPath":o={d:this.opsToPath(a),stroke:B,strokeWidth:0,fill:n.fill||B};break;case"fillSketch":o=this.fillSketch(a,n)}o&&i.push(o)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||B,strokeWidth:n,fill:B}}},hi=class{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new et(r)}draw(t){let r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx;for(let a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a),i.restore();break;case"fillPath":i.save(),i.fillStyle=n.fill||"";let o=t.shape==="curve"||t.shape==="polygon"?"evenodd":"nonzero";this._drawToContext(i,a,o),i.restore();break;case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r),t.restore()}_drawToContext(t,r,n="nonzero"){t.beginPath();for(let i of r.ops){let a=i.data;switch(i.op){case"move":t.moveTo(a[0],a[1]);break;case"bcurveTo":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":t.lineTo(a[0],a[1])}}r.type==="fillPath"?t.fill(n):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,a){let o=this.gen.line(t,r,n,i,a);return this.draw(o),o}rectangle(t,r,n,i,a){let o=this.gen.rectangle(t,r,n,i,a);return this.draw(o),o}ellipse(t,r,n,i,a){let o=this.gen.ellipse(t,r,n,i,a);return this.draw(o),o}circle(t,r,n,i){let a=this.gen.circle(t,r,n,i);return this.draw(a),a}linearPath(t,r){let n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){let n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,a,o,s=!1,c){let u=this.gen.arc(t,r,n,i,a,o,s,c);return this.draw(u),u}curve(t,r){let n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){let n=this.gen.path(t,r);return this.draw(n),n}},Pt="http://www.w3.org/2000/svg",li=class{constructor(t,r){this.svg=t,this.gen=new et(r)}draw(t){let r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(Pt,"g");for(let o of r){let s=null;switch(o.type){case"path":s=i.createElementNS(Pt,"path"),s.setAttribute("d",this.opsToPath(o)),s.setAttribute("stroke",n.stroke),s.setAttribute("stroke-width",n.strokeWidth+""),s.setAttribute("fill","none"),n.strokeLineDash&&s.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&s.setAttribute("stroke-dashoffset",""+n.strokeLineDashOffset);break;case"fillPath":s=i.createElementNS(Pt,"path"),s.setAttribute("d",this.opsToPath(o)),s.setAttribute("stroke","none"),s.setAttribute("stroke-width","0"),s.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||s.setAttribute("fill-rule","evenodd");break;case"fillSketch":s=this.fillSketch(i,o,n)}s&&a.appendChild(s)}return a}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);let a=t.createElementNS(Pt,"path");return a.setAttribute("d",this.opsToPath(r)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",""+n.fillLineDashOffset),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t){return this.gen.opsToPath(t)}line(t,r,n,i,a){let o=this.gen.line(t,r,n,i,a);return this.draw(o)}rectangle(t,r,n,i,a){let o=this.gen.rectangle(t,r,n,i,a);return this.draw(o)}ellipse(t,r,n,i,a){let o=this.gen.ellipse(t,r,n,i,a);return this.draw(o)}circle(t,r,n,i){let a=this.gen.circle(t,r,n,i);return this.draw(a)}linearPath(t,r){let n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){let n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,a,o,s=!1,c){let u=this.gen.arc(t,r,n,i,a,o,s,c);return this.draw(u)}curve(t,r){let n=this.gen.curve(t,r);return this.draw(n)}path(t,r){let n=this.gen.path(t,r);return this.draw(n)}},_s={canvas:(e,t)=>new hi(e,t),svg:(e,t)=>new li(e,t),generator:e=>new et(e),newSeed:()=>et.newSeed()},di=_s;var At=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Mr(e,t,r){return r={path:t,exports:{},require:function(n,i){return Ot(n,i==null?r.path:i)}},e(r,r.exports),r.exports}function Ot(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function ws(){this.__data__=[],this.size=0}var Es=ws;function xs(e,t){return e===t||e!==e&&t!==t}var Ce=xs;function Ts(e,t){for(var r=e.length;r--;)if(Ce(e[r][0],t))return r;return-1}var Ct=Ts,Ss=Array.prototype,ks=Ss.splice;function Ms(e){var t=this.__data__,r=Ct(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ks.call(t,r,1),--this.size,!0}var Ps=Ms;function As(e){var t=this.__data__,r=Ct(t,e);return r<0?void 0:t[r][1]}var Os=As;function Cs(e){return Ct(this.__data__,e)>-1}var $s=Cs;function Ns(e,t){var r=this.__data__,n=Ct(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Is=Ns;function $e(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$e.prototype.clear=Es;$e.prototype.delete=Ps;$e.prototype.get=Os;$e.prototype.has=$s;$e.prototype.set=Is;var $t=$e;function Ls(){this.__data__=new $t,this.size=0}var Rs=Ls;function js(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Ds=js;function Bs(e){return this.__data__.get(e)}var Fs=Bs;function Gs(e){return this.__data__.has(e)}var Us=Gs,Hs=typeof At=="object"&&At&&At.Object===Object&&At,fi=Hs,zs=typeof self=="object"&&self&&self.Object===Object&&self,Ws=fi||zs||Function("return this")(),V=Ws,Vs=V.Symbol,G=Vs,pi=Object.prototype,qs=pi.hasOwnProperty,Ys=pi.toString,tt=G?G.toStringTag:void 0;function Ks(e){var t=qs.call(e,tt),r=e[tt];try{e[tt]=void 0;var n=!0}catch(a){}var i=Ys.call(e);return n&&(t?e[tt]=r:delete e[tt]),i}var Zs=Ks,Xs=Object.prototype,Qs=Xs.toString;function Js(e){return Qs.call(e)}var ec=Js,tc="[object Null]",rc="[object Undefined]",vi=G?G.toStringTag:void 0;function nc(e){return e==null?e===void 0?rc:tc:vi&&vi in Object(e)?Zs(e):ec(e)}var ae=nc;function ic(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var L=ic,ac="[object AsyncFunction]",oc="[object Function]",sc="[object GeneratorFunction]",cc="[object Proxy]";function uc(e){if(!L(e))return!1;var t=ae(e);return t==oc||t==sc||t==ac||t==cc}var rt=uc,hc=V["__core-js_shared__"],Pr=hc,gi=function(){var e=/[^.]+$/.exec(Pr&&Pr.keys&&Pr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function lc(e){return!!gi&&gi in e}var dc=lc,fc=Function.prototype,pc=fc.toString;function vc(e){if(e!=null){try{return pc.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var de=vc,gc=/[\\^$.*+?()[\]{}|]/g,mc=/^\[object .+?Constructor\]$/,bc=Function.prototype,yc=Object.prototype,_c=bc.toString,wc=yc.hasOwnProperty,Ec=RegExp("^"+_c.call(wc).replace(gc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xc(e){if(!L(e)||dc(e))return!1;var t=rt(e)?Ec:mc;return t.test(de(e))}var Tc=xc;function Sc(e,t){return e==null?void 0:e[t]}var kc=Sc;function Mc(e,t){var r=kc(e,t);return Tc(r)?r:void 0}var fe=Mc,Pc=fe(V,"Map"),nt=Pc,Ac=fe(Object,"create"),it=Ac;function Oc(){this.__data__=it?it(null):{},this.size=0}var Cc=Oc;function $c(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Nc=$c,Ic="__lodash_hash_undefined__",Lc=Object.prototype,Rc=Lc.hasOwnProperty;function jc(e){var t=this.__data__;if(it){var r=t[e];return r===Ic?void 0:r}return Rc.call(t,e)?t[e]:void 0}var Dc=jc,Bc=Object.prototype,Fc=Bc.hasOwnProperty;function Gc(e){var t=this.__data__;return it?t[e]!==void 0:Fc.call(t,e)}var Uc=Gc,Hc="__lodash_hash_undefined__";function zc(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=it&&t===void 0?Hc:t,this}var Wc=zc;function Ne(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ne.prototype.clear=Cc;Ne.prototype.delete=Nc;Ne.prototype.get=Dc;Ne.prototype.has=Uc;Ne.prototype.set=Wc;var mi=Ne;function Vc(){this.size=0,this.__data__={hash:new mi,map:new(nt||$t),string:new mi}}var qc=Vc;function Yc(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Kc=Yc;function Zc(e,t){var r=e.__data__;return Kc(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Nt=Zc;function Xc(e){var t=Nt(this,e).delete(e);return this.size-=t?1:0,t}var Qc=Xc;function Jc(e){return Nt(this,e).get(e)}var eu=Jc;function tu(e){return Nt(this,e).has(e)}var ru=tu;function nu(e,t){var r=Nt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var iu=nu;function Ie(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ie.prototype.clear=qc;Ie.prototype.delete=Qc;Ie.prototype.get=eu;Ie.prototype.has=ru;Ie.prototype.set=iu;var It=Ie,au=200;function ou(e,t){var r=this.__data__;if(r instanceof $t){var n=r.__data__;if(!nt||n.length<au-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new It(n)}return r.set(e,t),this.size=r.size,this}var su=ou;function Le(e){var t=this.__data__=new $t(e);this.size=t.size}Le.prototype.clear=Rs;Le.prototype.delete=Ds;Le.prototype.get=Fs;Le.prototype.has=Us;Le.prototype.set=su;var Re=Le;function cu(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Ar=cu,uu=function(){try{var e=fe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Lt=uu;function hu(e,t,r){t=="__proto__"&&Lt?Lt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Rt=hu,lu=Object.prototype,du=lu.hasOwnProperty;function fu(e,t,r){var n=e[t];(!(du.call(e,t)&&Ce(n,r))||r===void 0&&!(t in e))&&Rt(e,t,r)}var jt=fu;function pu(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=n?n(r[s],e[s],s,r,e):void 0;c===void 0&&(c=e[s]),i?Rt(r,s,c):jt(r,s,c)}return r}var at=pu;function vu(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var gu=vu;function mu(e){return e!=null&&typeof e=="object"}var q=mu,bu="[object Arguments]";function yu(e){return q(e)&&ae(e)==bu}var bi=yu,yi=Object.prototype,_u=yi.hasOwnProperty,wu=yi.propertyIsEnumerable,Eu=bi(function(){return arguments}())?bi:function(e){return q(e)&&_u.call(e,"callee")&&!wu.call(e,"callee")},je=Eu,xu=Array.isArray,k=xu;function Tu(){return!1}var Su=Tu,pe=Mr(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===r,a=i?V.Buffer:void 0,o=a?a.isBuffer:void 0,s=o||Su;e.exports=s}),ku=9007199254740991,Mu=/^(?:0|[1-9]\d*)$/;function Pu(e,t){var r=typeof e;return t=t==null?ku:t,!!t&&(r=="number"||r!="symbol"&&Mu.test(e))&&e>-1&&e%1==0&&e<t}var Dt=Pu,Au=9007199254740991;function Ou(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Au}var Or=Ou,Cu="[object Arguments]",$u="[object Array]",Nu="[object Boolean]",Iu="[object Date]",Lu="[object Error]",Ru="[object Function]",ju="[object Map]",Du="[object Number]",Bu="[object Object]",Fu="[object RegExp]",Gu="[object Set]",Uu="[object String]",Hu="[object WeakMap]",zu="[object ArrayBuffer]",Wu="[object DataView]",Vu="[object Float32Array]",qu="[object Float64Array]",Yu="[object Int8Array]",Ku="[object Int16Array]",Zu="[object Int32Array]",Xu="[object Uint8Array]",Qu="[object Uint8ClampedArray]",Ju="[object Uint16Array]",eh="[object Uint32Array]",S={};S[Vu]=S[qu]=S[Yu]=S[Ku]=S[Zu]=S[Xu]=S[Qu]=S[Ju]=S[eh]=!0;S[Cu]=S[$u]=S[zu]=S[Nu]=S[Wu]=S[Iu]=S[Lu]=S[Ru]=S[ju]=S[Du]=S[Bu]=S[Fu]=S[Gu]=S[Uu]=S[Hu]=!1;function th(e){return q(e)&&Or(e.length)&&!!S[ae(e)]}var rh=th;function nh(e){return function(t){return e(t)}}var Bt=nh,De=Mr(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===r,a=i&&fi.process,o=function(){try{var s=n&&n.require&&n.require("util").types;return s||a&&a.binding&&a.binding("util")}catch(c){}}();e.exports=o}),_i=De&&De.isTypedArray,ih=_i?Bt(_i):rh,ot=ih,ah=Object.prototype,oh=ah.hasOwnProperty;function sh(e,t){var r=k(e),n=!r&&je(e),i=!r&&!n&&pe(e),a=!r&&!n&&!i&&ot(e),o=r||n||i||a,s=o?gu(e.length,String):[],c=s.length;for(var u in e)(t||oh.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Dt(u,c)))&&s.push(u);return s}var wi=sh,ch=Object.prototype;function uh(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ch;return e===r}var Ft=uh;function hh(e,t){return function(r){return e(t(r))}}var Ei=hh,lh=Ei(Object.keys,Object),dh=lh,fh=Object.prototype,ph=fh.hasOwnProperty;function vh(e){if(!Ft(e))return dh(e);var t=[];for(var r in Object(e))ph.call(e,r)&&r!="constructor"&&t.push(r);return t}var Cr=vh;function gh(e){return e!=null&&Or(e.length)&&!rt(e)}var te=gh;function mh(e){return te(e)?wi(e):Cr(e)}var oe=mh;function bh(e,t){return e&&at(t,oe(t),e)}var yh=bh;function _h(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var wh=_h,Eh=Object.prototype,xh=Eh.hasOwnProperty;function Th(e){if(!L(e))return wh(e);var t=Ft(e),r=[];for(var n in e)n=="constructor"&&(t||!xh.call(e,n))||r.push(n);return r}var Sh=Th;function kh(e){return te(e)?wi(e,!0):Sh(e)}var ve=kh;function Mh(e,t){return e&&at(t,ve(t),e)}var Ph=Mh,xi=Mr(function(e,t){var r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===r,a=i?V.Buffer:void 0,o=a?a.allocUnsafe:void 0;function s(c,u){if(u)return c.slice();var h=c.length,l=o?o(h):new c.constructor(h);return c.copy(l),l}e.exports=s});function Ah(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Ti=Ah;function Oh(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var Si=Oh;function Ch(){return[]}var ki=Ch,$h=Object.prototype,Nh=$h.propertyIsEnumerable,Mi=Object.getOwnPropertySymbols,Ih=Mi?function(e){return e==null?[]:(e=Object(e),Si(Mi(e),function(t){return Nh.call(e,t)}))}:ki,$r=Ih;function Lh(e,t){return at(e,$r(e),t)}var Rh=Lh;function jh(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Nr=jh,Dh=Ei(Object.getPrototypeOf,Object),Gt=Dh,Bh=Object.getOwnPropertySymbols,Fh=Bh?function(e){for(var t=[];e;)Nr(t,$r(e)),e=Gt(e);return t}:ki,Pi=Fh;function Gh(e,t){return at(e,Pi(e),t)}var Uh=Gh;function Hh(e,t,r){var n=t(e);return k(e)?n:Nr(n,r(e))}var Ai=Hh;function zh(e){return Ai(e,oe,$r)}var Ir=zh;function Wh(e){return Ai(e,ve,Pi)}var Vh=Wh,qh=fe(V,"DataView"),Lr=qh,Yh=fe(V,"Promise"),Rr=Yh,Kh=fe(V,"Set"),Be=Kh,Zh=fe(V,"WeakMap"),jr=Zh,Oi="[object Map]",Xh="[object Object]",Ci="[object Promise]",$i="[object Set]",Ni="[object WeakMap]",Ii="[object DataView]",Qh=de(Lr),Jh=de(nt),el=de(Rr),tl=de(Be),rl=de(jr),ge=ae;(Lr&&ge(new Lr(new ArrayBuffer(1)))!=Ii||nt&&ge(new nt)!=Oi||Rr&&ge(Rr.resolve())!=Ci||Be&&ge(new Be)!=$i||jr&&ge(new jr)!=Ni)&&(ge=function(e){var t=ae(e),r=t==Xh?e.constructor:void 0,n=r?de(r):"";if(n)switch(n){case Qh:return Ii;case Jh:return Oi;case el:return Ci;case tl:return $i;case rl:return Ni}return t});var me=ge,nl=Object.prototype,il=nl.hasOwnProperty;function al(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&il.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var ol=al,sl=V.Uint8Array,Ut=sl;function cl(e){var t=new e.constructor(e.byteLength);return new Ut(t).set(new Ut(e)),t}var Dr=cl;function ul(e,t){var r=t?Dr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var hl=ul,ll=/\w*$/;function dl(e){var t=new e.constructor(e.source,ll.exec(e));return t.lastIndex=e.lastIndex,t}var fl=dl,Li=G?G.prototype:void 0,Ri=Li?Li.valueOf:void 0;function pl(e){return Ri?Object(Ri.call(e)):{}}var vl=pl;function gl(e,t){var r=t?Dr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var ji=gl,ml="[object Boolean]",bl="[object Date]",yl="[object Map]",_l="[object Number]",wl="[object RegExp]",El="[object Set]",xl="[object String]",Tl="[object Symbol]",Sl="[object ArrayBuffer]",kl="[object DataView]",Ml="[object Float32Array]",Pl="[object Float64Array]",Al="[object Int8Array]",Ol="[object Int16Array]",Cl="[object Int32Array]",$l="[object Uint8Array]",Nl="[object Uint8ClampedArray]",Il="[object Uint16Array]",Ll="[object Uint32Array]";function Rl(e,t,r){var n=e.constructor;switch(t){case Sl:return Dr(e);case ml:case bl:return new n(+e);case kl:return hl(e,r);case Ml:case Pl:case Al:case Ol:case Cl:case $l:case Nl:case Il:case Ll:return ji(e,r);case yl:return new n;case _l:case xl:return new n(e);case wl:return fl(e);case El:return new n;case Tl:return vl(e)}}var jl=Rl,Di=Object.create,Dl=function(){function e(){}return function(t){if(!L(t))return{};if(Di)return Di(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Bi=Dl;function Bl(e){return typeof e.constructor=="function"&&!Ft(e)?Bi(Gt(e)):{}}var Fi=Bl,Fl="[object Map]";function Gl(e){return q(e)&&me(e)==Fl}var Ul=Gl,Gi=De&&De.isMap,Hl=Gi?Bt(Gi):Ul,zl=Hl,Wl="[object Set]";function Vl(e){return q(e)&&me(e)==Wl}var ql=Vl,Ui=De&&De.isSet,Yl=Ui?Bt(Ui):ql,Kl=Yl,Zl=1,Xl=2,Ql=4,Hi="[object Arguments]",Jl="[object Array]",ed="[object Boolean]",td="[object Date]",rd="[object Error]",zi="[object Function]",nd="[object GeneratorFunction]",id="[object Map]",ad="[object Number]",Wi="[object Object]",od="[object RegExp]",sd="[object Set]",cd="[object String]",ud="[object Symbol]",hd="[object WeakMap]",ld="[object ArrayBuffer]",dd="[object DataView]",fd="[object Float32Array]",pd="[object Float64Array]",vd="[object Int8Array]",gd="[object Int16Array]",md="[object Int32Array]",bd="[object Uint8Array]",yd="[object Uint8ClampedArray]",_d="[object Uint16Array]",wd="[object Uint32Array]",T={};T[Hi]=T[Jl]=T[ld]=T[dd]=T[ed]=T[td]=T[fd]=T[pd]=T[vd]=T[gd]=T[md]=T[id]=T[ad]=T[Wi]=T[od]=T[sd]=T[cd]=T[ud]=T[bd]=T[yd]=T[_d]=T[wd]=!0;T[rd]=T[zi]=T[hd]=!1;function Ht(e,t,r,n,i,a){var o,s=t&Zl,c=t&Xl,u=t&Ql;if(r&&(o=i?r(e,n,i,a):r(e)),o!==void 0)return o;if(!L(e))return e;var h=k(e);if(h){if(o=ol(e),!s)return Ti(e,o)}else{var l=me(e),f=l==zi||l==nd;if(pe(e))return xi(e,s);if(l==Wi||l==Hi||f&&!i){if(o=c||f?{}:Fi(e),!s)return c?Uh(e,Ph(o,e)):Rh(e,yh(o,e))}else{if(!T[l])return i?e:{};o=jl(e,l,s)}}a||(a=new Re);var v=a.get(e);if(v)return v;a.set(e,o),Kl(e)?e.forEach(function(m){o.add(Ht(m,t,r,m,e,a))}):zl(e)&&e.forEach(function(m,y){o.set(y,Ht(m,t,r,y,e,a))});var p=u?c?Vh:Ir:c?ve:oe,g=h?void 0:p(e);return Ar(g||e,function(m,y){g&&(y=m,m=e[y]),jt(o,y,Ht(m,t,r,y,e,a))}),o}var Vi=Ht,Ed=4;function xd(e){return Vi(e,Ed)}var Td=xd;function Sd(e){return function(){return e}}var Br=Sd;function kd(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var c=o[e?s:++i];if(r(a[c],c,a)===!1)break}return t}}var Md=kd,Pd=Md(),Fr=Pd;function Ad(e,t){return e&&Fr(e,t,oe)}var Gr=Ad;function Od(e,t){return function(r,n){if(r==null)return r;if(!te(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Cd=Od,$d=Cd(Gr),zt=$d;function Nd(e){return e}var be=Nd;function Id(e){return typeof e=="function"?e:be}var qi=Id;function Ld(e,t){var r=k(e)?Ar:zt;return r(e,qi(t))}var Yi=Ld,Ki=Yi;function Rd(e,t){var r=[];return zt(e,function(n,i,a){t(n,i,a)&&r.push(n)}),r}var jd=Rd,Dd="__lodash_hash_undefined__";function Bd(e){return this.__data__.set(e,Dd),this}var Fd=Bd;function Gd(e){return this.__data__.has(e)}var Ud=Gd;function Wt(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new It;++t<r;)this.add(e[t])}Wt.prototype.add=Wt.prototype.push=Fd;Wt.prototype.has=Ud;var Zi=Wt;function Hd(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var zd=Hd;function Wd(e,t){return e.has(t)}var Xi=Wd,Vd=1,qd=2;function Yd(e,t,r,n,i,a){var o=r&Vd,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=a.get(e),h=a.get(t);if(u&&h)return u==t&&h==e;var l=-1,f=!0,v=r&qd?new Zi:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var p=e[l],g=t[l];if(n)var m=o?n(g,p,l,t,e,a):n(p,g,l,e,t,a);if(m!==void 0){if(m)continue;f=!1;break}if(v){if(!zd(t,function(y,E){if(!Xi(v,E)&&(p===y||i(p,y,r,n,a)))return v.push(E)})){f=!1;break}}else if(!(p===g||i(p,g,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var Qi=Yd;function Kd(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Zd=Kd;function Xd(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ur=Xd,Qd=1,Jd=2,ef="[object Boolean]",tf="[object Date]",rf="[object Error]",nf="[object Map]",af="[object Number]",of="[object RegExp]",sf="[object Set]",cf="[object String]",uf="[object Symbol]",hf="[object ArrayBuffer]",lf="[object DataView]",Ji=G?G.prototype:void 0,Hr=Ji?Ji.valueOf:void 0;function df(e,t,r,n,i,a,o){switch(r){case lf:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hf:return!(e.byteLength!=t.byteLength||!a(new Ut(e),new Ut(t)));case ef:case tf:case af:return Ce(+e,+t);case rf:return e.name==t.name&&e.message==t.message;case of:case cf:return e==t+"";case nf:var s=Zd;case sf:var c=n&Qd;if(s||(s=Ur),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Jd,o.set(e,t);var h=Qi(s(e),s(t),n,i,a,o);return o.delete(e),h;case uf:if(Hr)return Hr.call(e)==Hr.call(t)}return!1}var ff=df,pf=1,vf=Object.prototype,gf=vf.hasOwnProperty;function mf(e,t,r,n,i,a){var o=r&pf,s=Ir(e),c=s.length,u=Ir(t),h=u.length;if(c!=h&&!o)return!1;for(var l=c;l--;){var f=s[l];if(!(o?f in t:gf.call(t,f)))return!1}var v=a.get(e),p=a.get(t);if(v&&p)return v==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=o;++l<c;){f=s[l];var y=e[f],E=t[f];if(n)var R=o?n(E,y,f,t,e,a):n(y,E,f,e,t,a);if(!(R===void 0?y===E||i(y,E,r,n,a):R)){g=!1;break}m||(m=f=="constructor")}if(g&&!m){var O=e.constructor,x=t.constructor;O!=x&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof x=="function"&&x instanceof x)&&(g=!1)}return a.delete(e),a.delete(t),g}var bf=mf,yf=1,ea="[object Arguments]",ta="[object Array]",Vt="[object Object]",_f=Object.prototype,ra=_f.hasOwnProperty;function wf(e,t,r,n,i,a){var o=k(e),s=k(t),c=o?ta:me(e),u=s?ta:me(t);c=c==ea?Vt:c,u=u==ea?Vt:u;var h=c==Vt,l=u==Vt,f=c==u;if(f&&pe(e)){if(!pe(t))return!1;o=!0,h=!1}if(f&&!h)return a||(a=new Re),o||ot(e)?Qi(e,t,r,n,i,a):ff(e,t,c,r,n,i,a);if(!(r&yf)){var v=h&&ra.call(e,"__wrapped__"),p=l&&ra.call(t,"__wrapped__");if(v||p){var g=v?e.value():e,m=p?t.value():t;return a||(a=new Re),i(g,m,r,n,a)}}return f?(a||(a=new Re),bf(e,t,r,n,i,a)):!1}var Ef=wf;function na(e,t,r,n,i){return e===t?!0:e==null||t==null||!q(e)&&!q(t)?e!==e&&t!==t:Ef(e,t,r,n,na,i)}var ia=na,xf=1,Tf=2;function Sf(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var c=s[0],u=e[c],h=s[1];if(o&&s[2]){if(u===void 0&&!(c in e))return!1}else{var l=new Re;if(n)var f=n(u,h,c,e,t,l);if(!(f===void 0?ia(h,u,xf|Tf,n,l):f))return!1}}return!0}var kf=Sf;function Mf(e){return e===e&&!L(e)}var aa=Mf;function Pf(e){for(var t=oe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,aa(i)]}return t}var Af=Pf;function Of(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var oa=Of;function Cf(e){var t=Af(e);return t.length==1&&t[0][2]?oa(t[0][0],t[0][1]):function(r){return r===e||kf(r,e,t)}}var $f=Cf,Nf="[object Symbol]";function If(e){return typeof e=="symbol"||q(e)&&ae(e)==Nf}var ye=If,Lf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rf=/^\w*$/;function jf(e,t){if(k(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ye(e)?!0:Rf.test(e)||!Lf.test(e)||t!=null&&e in Object(t)}var zr=jf,Df="Expected a function";function Wr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Df);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Wr.Cache||It),r}Wr.Cache=It;var Bf=Wr,Ff=500;function Gf(e){var t=Bf(e,function(n){return r.size===Ff&&r.clear(),n}),r=t.cache;return t}var Uf=Gf,Hf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zf=/\\(\\)?/g,Wf=Uf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Hf,function(r,n,i,a){t.push(i?a.replace(zf,"$1"):n||r)}),t}),Vf=Wf;function qf(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Fe=qf,Yf=1/0,sa=G?G.prototype:void 0,ca=sa?sa.toString:void 0;function ua(e){if(typeof e=="string")return e;if(k(e))return Fe(e,ua)+"";if(ye(e))return ca?ca.call(e):"";var t=e+"";return t=="0"&&1/e==-Yf?"-0":t}var Kf=ua;function Zf(e){return e==null?"":Kf(e)}var ha=Zf;function Xf(e,t){return k(e)?e:zr(e,t)?[e]:Vf(ha(e))}var qt=Xf,Qf=1/0;function Jf(e){if(typeof e=="string"||ye(e))return e;var t=e+"";return t=="0"&&1/e==-Qf?"-0":t}var st=Jf;function ep(e,t){t=qt(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[st(t[r++])];return r&&r==n?e:void 0}var Yt=ep;function tp(e,t,r){var n=e==null?void 0:Yt(e,t);return n===void 0?r:n}var rp=tp;function np(e,t){return e!=null&&t in Object(e)}var ip=np;function ap(e,t,r){t=qt(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=st(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Or(i)&&Dt(o,i)&&(k(e)||je(e)))}var la=ap;function op(e,t){return e!=null&&la(e,t,ip)}var da=op,sp=1,cp=2;function up(e,t){return zr(e)&&aa(t)?oa(st(e),t):function(r){var n=rp(r,e);return n===void 0&&n===t?da(r,e):ia(t,n,sp|cp)}}var hp=up;function lp(e){return function(t){return t==null?void 0:t[e]}}var fa=lp;function dp(e){return function(t){return Yt(t,e)}}var fp=dp;function pp(e){return zr(e)?fa(st(e)):fp(e)}var vp=pp;function gp(e){return typeof e=="function"?e:e==null?be:typeof e=="object"?k(e)?hp(e[0],e[1]):$f(e):vp(e)}var re=gp;function mp(e,t){var r=k(e)?Si:jd;return r(e,re(t))}var pa=mp,bp=Object.prototype,yp=bp.hasOwnProperty;function _p(e,t){return e!=null&&yp.call(e,t)}var wp=_p;function Ep(e,t){return e!=null&&la(e,t,wp)}var va=Ep,xp="[object Map]",Tp="[object Set]",Sp=Object.prototype,kp=Sp.hasOwnProperty;function Mp(e){if(e==null)return!0;if(te(e)&&(k(e)||typeof e=="string"||typeof e.splice=="function"||pe(e)||ot(e)||je(e)))return!e.length;var t=me(e);if(t==xp||t==Tp)return!e.size;if(Ft(e))return!Cr(e).length;for(var r in e)if(kp.call(e,r))return!1;return!0}var Pp=Mp;function Ap(e){return e===void 0}var ga=Ap;function Op(e,t){var r=-1,n=te(e)?Array(e.length):[];return zt(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var ma=Op;function Cp(e,t){var r=k(e)?Fe:ma;return r(e,re(t))}var ba=Cp;function $p(e,t,r,n){var i=-1,a=e==null?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}var Np=$p;function Ip(e,t,r,n,i){return i(e,function(a,o,s){r=n?(n=!1,a):t(r,a,o,s)}),r}var Lp=Ip;function Rp(e,t,r){var n=k(e)?Np:Lp,i=arguments.length<3;return n(e,re(t),r,i,zt)}var ya=Rp,jp="[object String]";function Dp(e){return typeof e=="string"||!k(e)&&q(e)&&ae(e)==jp}var Bp=Dp,Fp=fa("length"),Gp=Fp,Up="\\ud800-\\udfff",Hp="\\u0300-\\u036f",zp="\\ufe20-\\ufe2f",Wp="\\u20d0-\\u20ff",Vp=Hp+zp+Wp,qp="\\ufe0e\\ufe0f",Yp="\\u200d",Kp=RegExp("["+Yp+Up+Vp+qp+"]");function Zp(e){return Kp.test(e)}var Xp=Zp,_a="\\ud800-\\udfff",Qp="\\u0300-\\u036f",Jp="\\ufe20-\\ufe2f",ev="\\u20d0-\\u20ff",tv=Qp+Jp+ev,rv="\\ufe0e\\ufe0f",nv="["+_a+"]",Vr="["+tv+"]",qr="\\ud83c[\\udffb-\\udfff]",iv="(?:"+Vr+"|"+qr+")",wa="[^"+_a+"]",Ea="(?:\\ud83c[\\udde6-\\uddff]){2}",xa="[\\ud800-\\udbff][\\udc00-\\udfff]",av="\\u200d",Ta=iv+"?",Sa="["+rv+"]?",ov="(?:"+av+"(?:"+[wa,Ea,xa].join("|")+")"+Sa+Ta+")*",sv=Sa+Ta+ov,cv="(?:"+[wa+Vr+"?",Vr,Ea,xa,nv].join("|")+")",ka=RegExp(qr+"(?="+qr+")|"+cv+sv,"g");function uv(e){for(var t=ka.lastIndex=0;ka.test(e);)++t;return t}var hv=uv;function lv(e){return Xp(e)?hv(e):Gp(e)}var dv=lv,fv="[object Map]",pv="[object Set]";function vv(e){if(e==null)return 0;if(te(e))return Bp(e)?dv(e):e.length;var t=me(e);return t==fv||t==pv?e.size:Cr(e).length}var gv=vv;function mv(e,t,r){var n=k(e),i=n||pe(e)||ot(e);if(t=re(t),r==null){var a=e&&e.constructor;i?r=n?new a:[]:L(e)?r=rt(a)?Bi(Gt(e)):{}:r={}}return(i?Ar:Gr)(e,function(o,s,c){return t(r,o,s,c)}),r}var bv=mv,Ma=G?G.isConcatSpreadable:void 0;function yv(e){return k(e)||je(e)||!!(Ma&&e&&e[Ma])}var _v=yv;function Pa(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=_v),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?Pa(s,t-1,r,n,i):Nr(i,s):n||(i[i.length]=s)}return i}var Yr=Pa;function wv(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Ev=wv,Aa=Math.max;function xv(e,t,r){return t=Aa(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=Aa(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),Ev(e,this,s)}}var Oa=xv,Tv=Lt?function(e,t){return Lt(e,"toString",{configurable:!0,enumerable:!1,value:Br(t),writable:!0})}:be,Sv=Tv,kv=800,Mv=16,Pv=Date.now;function Av(e){var t=0,r=0;return function(){var n=Pv(),i=Mv-(n-r);if(r=n,i>0){if(++t>=kv)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ov=Av,Cv=Ov(Sv),Ca=Cv;function $v(e,t){return Ca(Oa(e,t,be),e+"")}var Kt=$v;function Nv(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var $a=Nv;function Iv(e){return e!==e}var Lv=Iv;function Rv(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var jv=Rv;function Dv(e,t,r){return t===t?jv(e,t,r):$a(e,Lv,r)}var Bv=Dv;function Fv(e,t){var r=e==null?0:e.length;return!!r&&Bv(e,t,0)>-1}var Gv=Fv;function Uv(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Hv=Uv;function zv(){}var Wv=zv,Vv=1/0,qv=Be&&1/Ur(new Be([,-0]))[1]==Vv?function(e){return new Be(e)}:Wv,Yv=qv,Kv=200;function Zv(e,t,r){var n=-1,i=Gv,a=e.length,o=!0,s=[],c=s;if(r)o=!1,i=Hv;else if(a>=Kv){var u=t?null:Yv(e);if(u)return Ur(u);o=!1,i=Xi,c=new Zi}else c=t?[]:s;e:for(;++n<a;){var h=e[n],l=t?t(h):h;if(h=r||h!==0?h:0,o&&l===l){for(var f=c.length;f--;)if(c[f]===l)continue e;t&&c.push(l),s.push(h)}else i(c,l,r)||(c!==s&&c.push(l),s.push(h))}return s}var Xv=Zv;function Qv(e){return q(e)&&te(e)}var Na=Qv,Jv=Kt(function(e){return Xv(Yr(e,1,Na,!0))}),eg=Jv;function tg(e,t){return Fe(t,function(r){return e[r]})}var rg=tg;function ng(e){return e==null?[]:rg(e,oe(e))}var Ia=ng,Zt;if(typeof Ot=="function")try{Zt={clone:Td,constant:Br,each:Ki,filter:pa,has:va,isArray:k,isEmpty:Pp,isFunction:rt,isUndefined:ga,keys:oe,map:ba,reduce:ya,size:gv,transform:bv,union:eg,values:Ia}}catch(e){}Zt||(Zt=window._);var b=Zt,Kr=w,ig="\0",_e="\0",La="";function w(e){this._isDirected=b.has(e,"directed")?e.directed:!0,this._isMultigraph=b.has(e,"multigraph")?e.multigraph:!1,this._isCompound=b.has(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=b.constant(void 0),this._defaultEdgeLabelFn=b.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[_e]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}w.prototype._nodeCount=0;w.prototype._edgeCount=0;w.prototype.isDirected=function(){return this._isDirected};w.prototype.isMultigraph=function(){return this._isMultigraph};w.prototype.isCompound=function(){return this._isCompound};w.prototype.setGraph=function(e){return this._label=e,this};w.prototype.graph=function(){return this._label};w.prototype.setDefaultNodeLabel=function(e){return b.isFunction(e)||(e=b.constant(e)),this._defaultNodeLabelFn=e,this};w.prototype.nodeCount=function(){return this._nodeCount};w.prototype.nodes=function(){return b.keys(this._nodes)};w.prototype.sources=function(){var e=this;return b.filter(this.nodes(),function(t){return b.isEmpty(e._in[t])})};w.prototype.sinks=function(){var e=this;return b.filter(this.nodes(),function(t){return b.isEmpty(e._out[t])})};w.prototype.setNodes=function(e,t){var r=arguments,n=this;return b.each(e,function(i){r.length>1?n.setNode(i,t):n.setNode(i)}),this};w.prototype.setNode=function(e,t){return b.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=_e,this._children[e]={},this._children[_e][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)};w.prototype.node=function(e){return this._nodes[e]};w.prototype.hasNode=function(e){return b.has(this._nodes,e)};w.prototype.removeNode=function(e){var t=this;if(b.has(this._nodes,e)){var r=function(n){t.removeEdge(t._edgeObjs[n])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],b.each(this.children(e),function(n){t.setParent(n)}),delete this._children[e]),b.each(b.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],b.each(b.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this};w.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(b.isUndefined(t))t=_e;else{t+="";for(var r=t;!b.isUndefined(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this};w.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]};w.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==_e)return t}};w.prototype.children=function(e){if(b.isUndefined(e)&&(e=_e),this._isCompound){var t=this._children[e];if(t)return b.keys(t)}else{if(e===_e)return this.nodes();if(this.hasNode(e))return[]}};w.prototype.predecessors=function(e){var t=this._preds[e];if(t)return b.keys(t)};w.prototype.successors=function(e){var t=this._sucs[e];if(t)return b.keys(t)};w.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return b.union(t,this.successors(e))};w.prototype.isLeaf=function(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0};w.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;b.each(this._nodes,function(a,o){e(o)&&t.setNode(o,a)}),b.each(this._edgeObjs,function(a){t.hasNode(a.v)&&t.hasNode(a.w)&&t.setEdge(a,r.edge(a))});var n={};function i(a){var o=r.parent(a);return o===void 0||t.hasNode(o)?(n[a]=o,o):o in n?n[o]:i(o)}return this._isCompound&&b.each(t.nodes(),function(a){t.setParent(a,i(a))}),t};w.prototype.setDefaultEdgeLabel=function(e){return b.isFunction(e)||(e=b.constant(e)),this._defaultEdgeLabelFn=e,this};w.prototype.edgeCount=function(){return this._edgeCount};w.prototype.edges=function(){return b.values(this._edgeObjs)};w.prototype.setPath=function(e,t){var r=this,n=arguments;return b.reduce(e,function(i,a){return n.length>1?r.setEdge(i,a,t):r.setEdge(i,a),a}),this};w.prototype.setEdge=function(){var e,t,r,n,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,t=a.w,r=a.name,arguments.length===2&&(n=arguments[1],i=!0)):(e=a,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,t=""+t,b.isUndefined(r)||(r=""+r);var o=ct(this._isDirected,e,t,r);if(b.has(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!b.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(e,t,r);var s=ag(this._isDirected,e,t,r);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[o]=s,Ra(this._preds[t],e),Ra(this._sucs[e],t),this._in[t][o]=s,this._out[e][o]=s,this._edgeCount++,this};w.prototype.edge=function(e,t,r){var n=arguments.length===1?Zr(this._isDirected,arguments[0]):ct(this._isDirected,e,t,r);return this._edgeLabels[n]};w.prototype.hasEdge=function(e,t,r){var n=arguments.length===1?Zr(this._isDirected,arguments[0]):ct(this._isDirected,e,t,r);return b.has(this._edgeLabels,n)};w.prototype.removeEdge=function(e,t,r){var n=arguments.length===1?Zr(this._isDirected,arguments[0]):ct(this._isDirected,e,t,r),i=this._edgeObjs[n];return i&&(e=i.v,t=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],ja(this._preds[t],e),ja(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this};w.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var n=b.values(r);return t?b.filter(n,function(i){return i.v===t}):n}};w.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var n=b.values(r);return t?b.filter(n,function(i){return i.w===t}):n}};w.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))};function Ra(e,t){e[t]?e[t]++:e[t]=1}function ja(e,t){--e[t]||delete e[t]}function ct(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var o=i;i=a,a=o}return i+La+a+La+(b.isUndefined(n)?ig:n)}function ag(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return n&&(s.name=n),s}function Zr(e,t){return ct(e,t.v,t.w,t.name)}var og="2.1.8",Da={Graph:Kr,version:og},ug={write:sg,read:cg};function sg(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:hg(e),edges:lg(e)};return b.isUndefined(e.graph())||(t.value=b.clone(e.graph())),t}function hg(e){return b.map(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return b.isUndefined(r)||(i.value=r),b.isUndefined(n)||(i.parent=n),i})}function lg(e){return b.map(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return b.isUndefined(t.name)||(n.name=t.name),b.isUndefined(r)||(n.value=r),n})}function cg(e){var t=new Kr(e.options).setGraph(e.value);return b.each(e.nodes,function(r){t.setNode(r.v,r.value),r.parent&&t.setParent(r.v,r.parent)}),b.each(e.edges,function(r){t.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),t}var fg=dg;function dg(e){var t={},r=[],n;function i(a){b.has(t,a)||(t[a]=!0,n.push(a),b.each(e.successors(a),i),b.each(e.predecessors(a),i))}return b.each(e.nodes(),function(a){n=[],i(a),n.length&&r.push(n)}),r}var Ba=U;function U(){this._arr=[],this._keyIndices={}}U.prototype.size=function(){return this._arr.length};U.prototype.keys=function(){return this._arr.map(function(e){return e.key})};U.prototype.has=function(e){return b.has(this._keyIndices,e)};U.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority};U.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};U.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!b.has(r,e)){var n=this._arr,i=n.length;return r[e]=i,n.push({key:e,priority:t}),this._decrease(i),!0}return!1};U.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key};U.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)};U.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,i=e;r<t.length&&(i=t[r].priority<t[i].priority?r:i,n<t.length&&(i=t[n].priority<t[i].priority?n:i),i!==e&&(this._swap(e,i),this._heapify(i)))};U.prototype._decrease=function(e){for(var t=this._arr,r=t[e].priority,n;e!==0&&(n=e>>1,!(t[n].priority<r));)this._swap(e,n),e=n};U.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,i=r[e],a=r[t];r[e]=a,r[t]=i,n[a.key]=e,n[i.key]=t};var Fa=pg,vg=b.constant(1);function pg(e,t,r,n){return gg(e,String(t),r||vg,n||function(i){return e.outEdges(i)})}function gg(e,t,r,n){var i={},a=new Ba,o,s,c=function(u){var h=u.v!==o?u.v:u.w,l=i[h],f=r(u),v=s.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+f);v<l.distance&&(l.distance=v,l.predecessor=o,a.decrease(h,v))};for(e.nodes().forEach(function(u){var h=u===t?0:Number.POSITIVE_INFINITY;i[u]={distance:h},a.add(u,h)});a.size()>0&&(o=a.removeMin(),s=i[o],s.distance!==Number.POSITIVE_INFINITY);)n(o).forEach(c);return i}var bg=mg;function mg(e,t,r){return b.transform(e.nodes(),function(n,i){n[i]=Fa(e,i,t,r)},{})}var Ga=yg;function yg(e){var t=0,r=[],n={},i=[];function a(o){var s=n[o]={onStack:!0,lowlink:t,index:t++};if(r.push(o),e.successors(o).forEach(function(h){b.has(n,h)?n[h].onStack&&(s.lowlink=Math.min(s.lowlink,n[h].index)):(a(h),s.lowlink=Math.min(s.lowlink,n[h].lowlink))}),s.lowlink===s.index){var c=[],u;do u=r.pop(),n[u].onStack=!1,c.push(u);while(o!==u);i.push(c)}}return e.nodes().forEach(function(o){b.has(n,o)||a(o)}),i}var wg=_g;function _g(e){return b.filter(Ga(e),function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}var xg=Eg,Tg=b.constant(1);function Eg(e,t,r){return Sg(e,t||Tg,r||function(n){return e.outEdges(n)})}function Sg(e,t,r){var n={},i=e.nodes();return i.forEach(function(a){n[a]={},n[a][a]={distance:0},i.forEach(function(o){a!==o&&(n[a][o]={distance:Number.POSITIVE_INFINITY})}),r(a).forEach(function(o){var s=o.v===a?o.w:o.v,c=t(o);n[a][s]={distance:c,predecessor:a}})}),i.forEach(function(a){var o=n[a];i.forEach(function(s){var c=n[s];i.forEach(function(u){var h=c[a],l=o[u],f=c[u],v=h.distance+l.distance;v<f.distance&&(f.distance=v,f.predecessor=l.predecessor)})})}),n}var Xr=Ua;Ua.CycleException=Xt;function Ua(e){var t={},r={},n=[];function i(a){if(b.has(r,a))throw new Xt;b.has(t,a)||(r[a]=!0,t[a]=!0,b.each(e.predecessors(a),i),delete r[a],n.push(a))}if(b.each(e.sinks(),i),b.size(t)!==e.nodeCount())throw new Xt;return n}function Xt(){}Xt.prototype=new Error;var Mg=kg;function kg(e){try{Xr(e)}catch(t){if(t instanceof Xr.CycleException)return!1;throw t}return!0}var Ha=Pg;function Pg(e,t,r){b.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};return b.each(t,function(o){if(!e.hasNode(o))throw new Error("Graph does not have node: "+o);za(e,o,r==="post",a,n,i)}),i}function za(e,t,r,n,i,a){b.has(n,t)||(n[t]=!0,r||a.push(t),b.each(i(t),function(o){za(e,o,r,n,i,a)}),r&&a.push(t))}var Og=Ag;function Ag(e,t){return Ha(e,t,"post")}var $g=Cg;function Cg(e,t){return Ha(e,t,"pre")}var Ig=Ng;function Ng(e,t){var r=new Kr,n={},i=new Ba,a;function o(c){var u=c.v===a?c.w:c.v,h=i.priority(u);if(h!==void 0){var l=t(c);l<h&&(n[u]=a,i.decrease(u,l))}}if(e.nodeCount()===0)return r;b.each(e.nodes(),function(c){i.add(c,Number.POSITIVE_INFINITY),r.setNode(c)}),i.decrease(e.nodes()[0],0);for(var s=!1;i.size()>0;){if(a=i.removeMin(),b.has(n,a))r.setEdge(a,n[a]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(a).forEach(o)}return r}var Lg={components:fg,dijkstra:Fa,dijkstraAll:bg,findCycles:wg,floydWarshall:xg,isAcyclic:Mg,postorder:Og,preorder:$g,prim:Ig,tarjan:Ga,topsort:Xr},Rg={Graph:Da.Graph,json:ug,alg:Lg,version:Da.version},Qt;if(typeof Ot=="function")try{Qt=Rg}catch(e){}Qt||(Qt=window.graphlib);var Y=Qt,jg=1,Dg=4;function Bg(e){return Vi(e,jg|Dg)}var Fg=Bg;function Gg(e,t,r){if(!L(r))return!1;var n=typeof t;return(n=="number"?te(r)&&Dt(t,r.length):n=="string"&&t in r)?Ce(r[t],e):!1}var ut=Gg,Wa=Object.prototype,Ug=Wa.hasOwnProperty,Hg=Kt(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&ut(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=ve(a),s=-1,c=o.length;++s<c;){var u=o[s],h=e[u];(h===void 0||Ce(h,Wa[u])&&!Ug.call(e,u))&&(e[u]=a[u])}return e}),zg=Hg;function Wg(e){return function(t,r,n){var i=Object(t);if(!te(t)){var a=re(r);t=oe(t),r=function(s){return a(i[s],s,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}var Vg=Wg,qg=/\s/;function Yg(e){for(var t=e.length;t--&&qg.test(e.charAt(t)););return t}var Kg=Yg,Zg=/^\s+/;function Xg(e){return e&&e.slice(0,Kg(e)+1).replace(Zg,"")}var Qg=Xg,Va=0/0,Jg=/^[-+]0x[0-9a-f]+$/i,em=/^0b[01]+$/i,tm=/^0o[0-7]+$/i,rm=parseInt;function nm(e){if(typeof e=="number")return e;if(ye(e))return Va;if(L(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=L(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Qg(e);var r=em.test(e);return r||tm.test(e)?rm(e.slice(2),r?2:8):Jg.test(e)?Va:+e}var im=nm,qa=1/0,am=17976931348623157e292;function om(e){if(!e)return e===0?e:0;if(e=im(e),e===qa||e===-qa){var t=e<0?-1:1;return t*am}return e===e?e:0}var Jt=om;function sm(e){var t=Jt(e),r=t%1;return t===t?r?t-r:t:0}var cm=sm,um=Math.max;function hm(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:cm(r);return i<0&&(i=um(n+i,0)),$a(e,re(t),i)}var lm=hm,dm=Vg(lm),fm=dm;function pm(e){var t=e==null?0:e.length;return t?Yr(e,1):[]}var Ya=pm;function vm(e,t){return e==null?e:Fr(e,qi(t),ve)}var gm=vm;function mm(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bm=mm;function ym(e,t){var r={};return t=re(t),Gr(e,function(n,i,a){Rt(r,i,t(n,i,a))}),r}var _m=ym;function wm(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(s===void 0?o===o&&!ye(o):r(o,s)))var s=o,c=a}return c}var Qr=wm;function Em(e,t){return e>t}var xm=Em;function Tm(e){return e&&e.length?Qr(e,be,xm):void 0}var Sm=Tm;function km(e,t,r){(r!==void 0&&!Ce(e[t],r)||r===void 0&&!(t in e))&&Rt(e,t,r)}var Jr=km,Mm="[object Object]",Pm=Function.prototype,Am=Object.prototype,Ka=Pm.toString,Om=Am.hasOwnProperty,Cm=Ka.call(Object);function $m(e){if(!q(e)||ae(e)!=Mm)return!1;var t=Gt(e);if(t===null)return!0;var r=Om.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Ka.call(r)==Cm}var Nm=$m;function Im(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var en=Im;function Lm(e){return at(e,ve(e))}var Rm=Lm;function jm(e,t,r,n,i,a,o){var s=en(e,r),c=en(t,r),u=o.get(c);if(u){Jr(e,r,u);return}var h=a?a(s,c,r+"",e,t,o):void 0,l=h===void 0;if(l){var f=k(c),v=!f&&pe(c),p=!f&&!v&&ot(c);h=c,f||v||p?k(s)?h=s:Na(s)?h=Ti(s):v?(l=!1,h=xi(c,!0)):p?(l=!1,h=ji(c,!0)):h=[]:Nm(c)||je(c)?(h=s,je(s)?h=Rm(s):(!L(s)||rt(s))&&(h=Fi(c))):l=!1}l&&(o.set(c,h),i(h,c,n,a,o),o.delete(c)),Jr(e,r,h)}var Dm=jm;function Za(e,t,r,n,i){e!==t&&Fr(t,function(a,o){if(i||(i=new Re),L(a))Dm(e,t,o,r,Za,n,i);else{var s=n?n(en(e,o),a,o+"",e,t,i):void 0;s===void 0&&(s=a),Jr(e,o,s)}},ve)}var Bm=Za;function Fm(e){return Kt(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&ut(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}var Gm=Fm,Um=Gm(function(e,t,r){Bm(e,t,r)}),Hm=Um;function zm(e,t){return e<t}var Xa=zm;function Wm(e){return e&&e.length?Qr(e,be,Xa):void 0}var Vm=Wm;function qm(e,t){return e&&e.length?Qr(e,re(t),Xa):void 0}var Ym=qm,Km=function(){return V.Date.now()},Zm=Km;function Xm(e,t,r,n){if(!L(e))return e;t=qt(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var c=st(t[i]),u=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=o){var h=s[c];u=n?n(h,c,s):void 0,u===void 0&&(u=L(h)?h:Dt(t[i+1])?[]:{})}jt(s,c,u),s=s[c]}return e}var Qm=Xm;function Jm(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=Yt(e,o);r(s,o)&&Qm(a,qt(o,e),s)}return a}var eb=Jm;function tb(e,t){return eb(e,t,function(r,n){return da(e,n)})}var rb=tb;function nb(e){return Ca(Oa(e,void 0,Ya),e+"")}var ib=nb,ab=ib(function(e,t){return e==null?{}:rb(e,t)}),ob=ab,sb=Math.ceil,cb=Math.max;function ub(e,t,r,n){for(var i=-1,a=cb(sb((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var hb=ub;function lb(e){return function(t,r,n){return n&&typeof n!="number"&&ut(t,r,n)&&(r=n=void 0),t=Jt(t),r===void 0?(r=t,t=0):r=Jt(r),n=n===void 0?t<r?1:-1:Jt(n),hb(t,r,n,e)}}var db=lb,fb=db(),pb=fb;function vb(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var gb=vb;function mb(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=ye(e),o=t!==void 0,s=t===null,c=t===t,u=ye(t);if(!s&&!u&&!a&&e>t||a&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!c)return-1}return 0}var bb=mb;function yb(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var c=bb(i[n],a[n]);if(c){if(n>=s)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var _b=yb;function wb(e,t,r){t.length?t=Fe(t,function(a){return k(a)?function(o){return Yt(o,a.length===1?a[0]:a)}:a}):t=[be];var n=-1;t=Fe(t,Bt(re));var i=ma(e,function(a,o,s){var c=Fe(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return gb(i,function(a,o){return _b(a,o,r)})}var Eb=wb,xb=Kt(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ut(e,t[0],t[1])?t=[]:r>2&&ut(t[0],t[1],t[2])&&(t=[t[0]]),Eb(e,Yr(t,1),[])}),Tb=xb,Sb=0;function kb(e){var t=++Sb;return ha(e)+t}var Mb=kb;function Pb(e,t,r){for(var n=-1,i=e.length,a=t.length,o={};++n<i;){var s=n<a?t[n]:void 0;r(o,e[n],s)}return o}var Ab=Pb;function Ob(e,t){return Ab(e||[],t||[],jt)}var Cb=Ob,er;if(typeof Ot=="function")try{er={cloneDeep:Fg,constant:Br,defaults:zg,each:Ki,filter:pa,find:fm,flatten:Ya,forEach:Yi,forIn:gm,has:va,isUndefined:ga,last:bm,map:ba,mapValues:_m,max:Sm,merge:Hm,min:Vm,minBy:Ym,now:Zm,pick:ob,range:pb,reduce:ya,sortBy:Tb,uniqueId:Mb,values:Ia,zipObject:Cb}}catch(e){}er||(er=window._);var d=er,$b=tr;function tr(){var e={};e._next=e._prev=e,this._sentinel=e}tr.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Qa(t),t};tr.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Qa(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};tr.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,Nb)),r=r._prev;return"["+e.join(", ")+"]"};function Qa(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Nb(e,t){if(e!=="_next"&&e!=="_prev")return t}var Ib=Y.Graph,Rb=Lb,jb=d.constant(1);function Lb(e,t){if(e.nodeCount()<=1)return[];var r=Bb(e,t||jb),n=Db(r.graph,r.buckets,r.zeroIdx);return d.flatten(d.map(n,function(i){return e.outEdges(i.v,i.w)}),!0)}function Db(e,t,r){for(var n=[],i=t[t.length-1],a=t[0],o;e.nodeCount();){for(;o=a.dequeue();)tn(e,t,r,o);for(;o=i.dequeue();)tn(e,t,r,o);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){n=n.concat(tn(e,t,r,o,!0));break}}}return n}function tn(e,t,r,n,i){var a=i?[]:void 0;return d.forEach(e.inEdges(n.v),function(o){var s=e.edge(o),c=e.node(o.v);i&&a.push({v:o.v,w:o.w}),c.out-=s,rn(t,r,c)}),d.forEach(e.outEdges(n.v),function(o){var s=e.edge(o),c=o.w,u=e.node(c);u.in-=s,rn(t,r,u)}),e.removeNode(n.v),a}function Bb(e,t){var r=new Ib,n=0,i=0;d.forEach(e.nodes(),function(s){r.setNode(s,{v:s,in:0,out:0})}),d.forEach(e.edges(),function(s){var c=r.edge(s.v,s.w)||0,u=t(s),h=c+u;r.setEdge(s.v,s.w,h),i=Math.max(i,r.node(s.v).out+=u),n=Math.max(n,r.node(s.w).in+=u)});var a=d.range(i+n+3).map(function(){return new $b}),o=n+1;return d.forEach(r.nodes(),function(s){rn(a,o,r.node(s))}),{graph:r,buckets:a,zeroIdx:o}}function rn(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var Ja={run:Fb,undo:Gb};function Fb(e){var t=e.graph().acyclicer==="greedy"?Rb(e,r(e)):Ub(e);d.forEach(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,d.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function Ub(e){var t=[],r={},n={};function i(a){d.has(n,a)||(n[a]=!0,r[a]=!0,d.forEach(e.outEdges(a),function(o){d.has(r,o.w)?t.push(o):i(o.w)}),delete r[a])}return d.forEach(e.nodes(),i),t}function Gb(e){d.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var eo=Y.Graph,A={addDummyNode:to,simplify:Hb,asNonCompoundGraph:zb,successorWeights:Wb,predecessorWeights:Vb,intersectRect:qb,buildLayerMatrix:Yb,normalizeRanks:Kb,removeEmptyRanks:Zb,addBorderNode:Xb,maxRank:ro,partition:Qb,time:Jb,notime:e0};function to(e,t,r,n){var i;do i=d.uniqueId(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function Hb(e){var t=new eo().setGraph(e.graph());return d.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),d.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function zb(e){var t=new eo({multigraph:e.isMultigraph()}).setGraph(e.graph());return d.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),d.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function Wb(e){var t=d.map(e.nodes(),function(r){var n={};return d.forEach(e.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return d.zipObject(e.nodes(),t)}function Vb(e){var t=d.map(e.nodes(),function(r){var n={};return d.forEach(e.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return d.zipObject(e.nodes(),t)}function qb(e,t){var r=e.x,n=e.y,i=t.x-r,a=t.y-n,o=e.width/2,s=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var c,u;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),c=s*i/a,u=s):(i<0&&(o=-o),c=o,u=o*a/i),{x:r+c,y:n+u}}function Yb(e){var t=d.map(d.range(ro(e)+1),function(){return[]});return d.forEach(e.nodes(),function(r){var n=e.node(r),i=n.rank;d.isUndefined(i)||(t[i][n.order]=r)}),t}function Kb(e){var t=d.min(d.map(e.nodes(),function(r){return e.node(r).rank}));d.forEach(e.nodes(),function(r){var n=e.node(r);d.has(n,"rank")&&(n.rank-=t)})}function Zb(e){var t=d.min(d.map(e.nodes(),function(a){return e.node(a).rank})),r=[];d.forEach(e.nodes(),function(a){var o=e.node(a).rank-t;r[o]||(r[o]=[]),r[o].push(a)});var n=0,i=e.graph().nodeRankFactor;d.forEach(r,function(a,o){d.isUndefined(a)&&o%i!=0?--n:n&&d.forEach(a,function(s){e.node(s).rank+=n})})}function Xb(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),to(e,"border",i,t)}function ro(e){return d.max(d.map(e.nodes(),function(t){var r=e.node(t).rank;if(!d.isUndefined(r))return r}))}function Qb(e,t){var r={lhs:[],rhs:[]};return d.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function Jb(e,t){var r=d.now();try{return t()}finally{console.log(e+" time: "+(d.now()-r)+"ms")}}function e0(e,t){return t()}var no={run:t0,undo:r0};function t0(e){e.graph().dummyChains=[],d.forEach(e.edges(),function(t){n0(e,t)})}function n0(e,t){var r=t.v,n=e.node(r).rank,i=t.w,a=e.node(i).rank,o=t.name,s=e.edge(t),c=s.labelRank;if(a!==n+1){e.removeEdge(t);var u,h,l;for(l=0,++n;n<a;++l,++n)s.points=[],h={width:0,height:0,edgeLabel:s,edgeObj:t,rank:n},u=A.addDummyNode(e,"edge",h,"_d"),n===c&&(h.width=s.width,h.height=s.height,h.dummy="edge-label",h.labelpos=s.labelpos),e.setEdge(r,u,{weight:s.weight},o),l===0&&e.graph().dummyChains.push(u),r=u;e.setEdge(r,i,{weight:s.weight},o)}}function r0(e){d.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}var rr={longestPath:i0,slack:a0};function i0(e){var t={};function r(n){var i=e.node(n);if(d.has(t,n))return i.rank;t[n]=!0;var a=d.min(d.map(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}d.forEach(e.sources(),r)}function a0(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var o0=Y.Graph,nr=rr.slack,io=s0;function s0(e){var t=new o0({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,a;c0(t,e)<n;)i=u0(t,e),a=t.hasNode(i.v)?nr(e,i):-nr(e,i),h0(t,e,a);return t}function c0(e,t){function r(n){d.forEach(t.nodeEdges(n),function(i){var a=i.v,o=n===a?i.w:a;!e.hasNode(o)&&!nr(t,i)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return d.forEach(e.nodes(),r),e.nodeCount()}function u0(e,t){return d.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return nr(t,r)})}function h0(e,t,r){d.forEach(e.nodes(),function(n){t.node(n).rank+=r})}var l0=rr.slack,d0=rr.longestPath,f0=Y.alg.preorder,p0=Y.alg.postorder,v0=A.simplify,g0=we;we.initLowLimValues=nn;we.initCutValues=an;we.calcCutValue=ao;we.leaveEdge=oo;we.enterEdge=so;we.exchangeEdges=co;function we(e){e=v0(e),d0(e);var t=io(e);nn(t),an(t,e);for(var r,n;r=oo(t);)n=so(t,e,r),co(t,e,r,n)}function an(e,t){var r=p0(e,e.nodes());r=r.slice(0,r.length-1),d.forEach(r,function(n){m0(e,t,n)})}function m0(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=ao(e,t,r)}function ao(e,t,r){var n=e.node(r),i=n.parent,a=!0,o=t.edge(r,i),s=0;return o||(a=!1,o=t.edge(i,r)),s=o.weight,d.forEach(t.nodeEdges(r),function(c){var u=c.v===r,h=u?c.w:c.v;if(h!==i){var l=u===a,f=t.edge(c).weight;if(s+=l?f:-f,b0(e,r,h)){var v=e.edge(r,h).cutvalue;s+=l?-v:v}}}),s}function nn(e,t){arguments.length<2&&(t=e.nodes()[0]),uo(e,{},1,t)}function uo(e,t,r,n,i){var a=r,o=e.node(n);return t[n]=!0,d.forEach(e.neighbors(n),function(s){d.has(t,s)||(r=uo(e,t,r,s,n))}),o.low=a,o.lim=r++,i?o.parent=i:delete o.parent,r}function oo(e){return d.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function so(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var a=e.node(n),o=e.node(i),s=a,c=!1;a.lim>o.lim&&(s=o,c=!0);var u=d.filter(t.edges(),function(h){return c===ho(e,e.node(h.v),s)&&c!==ho(e,e.node(h.w),s)});return d.minBy(u,function(h){return l0(t,h)})}function co(e,t,r,n){var i=r.v,a=r.w;e.removeEdge(i,a),e.setEdge(n.v,n.w,{}),nn(e),an(e,t),y0(e,t)}function y0(e,t){var r=d.find(e.nodes(),function(i){return!t.node(i).parent}),n=f0(e,r);n=n.slice(1),d.forEach(n,function(i){var a=e.node(i).parent,o=t.edge(i,a),s=!1;o||(o=t.edge(a,i),s=!0),t.node(i).rank=t.node(a).rank+(s?o.minlen:-o.minlen)})}function b0(e,t,r){return e.hasEdge(t,r)}function ho(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var lo=rr.longestPath,w0=_0;function _0(e){switch(e.graph().ranker){case"network-simplex":fo(e);break;case"tight-tree":x0(e);break;case"longest-path":E0(e);break;default:fo(e)}}var E0=lo;function x0(e){lo(e),io(e)}function fo(e){g0(e)}var S0=T0;function T0(e){var t=M0(e);d.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,a=k0(e,t,i.v,i.w),o=a.path,s=a.lca,c=0,u=o[c],h=!0;r!==i.w;){if(n=e.node(r),h){for(;(u=o[c])!==s&&e.node(u).maxRank<n.rank;)c++;u===s&&(h=!1)}if(!h){for(;c<o.length-1&&e.node(u=o[c+1]).minRank<=n.rank;)c++;u=o[c]}e.setParent(r,u),r=e.successors(r)[0]}})}function k0(e,t,r,n){var i=[],a=[],o=Math.min(t[r].low,t[n].low),s=Math.max(t[r].lim,t[n].lim),c,u;c=r;do c=e.parent(c),i.push(c);while(c&&(t[c].low>o||s>t[c].lim));for(u=c,c=n;(c=e.parent(c))!==u;)a.push(c);return{path:i.concat(a.reverse()),lca:u}}function M0(e){var t={},r=0;function n(i){var a=r;d.forEach(e.children(i),n),t[i]={low:a,lim:r++}}return d.forEach(e.children(),n),t}var po={run:P0,cleanup:A0};function P0(e){var t=A.addDummyNode(e,"root",{},"_root"),r=O0(e),n=d.max(d.values(r))-1,i=2*n+1;e.graph().nestingRoot=t,d.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var a=C0(e)+1;d.forEach(e.children(),function(o){vo(e,t,i,a,n,r,o)}),e.graph().nodeRankFactor=i}function vo(e,t,r,n,i,a,o){var s=e.children(o);if(!s.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var c=A.addBorderNode(e,"_bt"),u=A.addBorderNode(e,"_bb"),h=e.node(o);e.setParent(c,o),h.borderTop=c,e.setParent(u,o),h.borderBottom=u,d.forEach(s,function(l){vo(e,t,r,n,i,a,l);var f=e.node(l),v=f.borderTop?f.borderTop:l,p=f.borderBottom?f.borderBottom:l,g=f.borderTop?n:2*n,m=v!==p?1:i-a[o]+1;e.setEdge(c,v,{weight:g,minlen:m,nestingEdge:!0}),e.setEdge(p,u,{weight:g,minlen:m,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,c,{weight:0,minlen:i+a[o]})}function O0(e){var t={};function r(n,i){var a=e.children(n);a&&a.length&&d.forEach(a,function(o){r(o,i+1)}),t[n]=i}return d.forEach(e.children(),function(n){r(n,1)}),t}function C0(e){return d.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function A0(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,d.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var N0=$0;function $0(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&d.forEach(n,t),d.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)go(e,"borderLeft","_bl",r,i,a),go(e,"borderRight","_br",r,i,a)}}d.forEach(e.children(),t)}function go(e,t,r,n,i,a){var o={width:0,height:0,rank:a,borderType:t},s=i[t][a-1],c=A.addDummyNode(e,"border",o,r);i[t][a]=c,e.setParent(c,n),s&&e.setEdge(s,c,{weight:1})}var mo={adjust:I0,undo:L0};function I0(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&bo(e)}function L0(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&R0(e),(t==="lr"||t==="rl")&&(j0(e),bo(e))}function bo(e){d.forEach(e.nodes(),function(t){yo(e.node(t))}),d.forEach(e.edges(),function(t){yo(e.edge(t))})}function yo(e){var t=e.width;e.width=e.height,e.height=t}function R0(e){d.forEach(e.nodes(),function(t){on(e.node(t))}),d.forEach(e.edges(),function(t){var r=e.edge(t);d.forEach(r.points,on),d.has(r,"y")&&on(r)})}function on(e){e.y=-e.y}function j0(e){d.forEach(e.nodes(),function(t){sn(e.node(t))}),d.forEach(e.edges(),function(t){var r=e.edge(t);d.forEach(r.points,sn),d.has(r,"x")&&sn(r)})}function sn(e){var t=e.x;e.x=e.y,e.y=t}var B0=D0;function D0(e){var t={},r=d.filter(e.nodes(),function(s){return!e.children(s).length}),n=d.max(d.map(r,function(s){return e.node(s).rank})),i=d.map(d.range(n+1),function(){return[]});function a(s){if(!d.has(t,s)){t[s]=!0;var c=e.node(s);i[c.rank].push(s),d.forEach(e.successors(s),a)}}var o=d.sortBy(r,function(s){return e.node(s).rank});return d.forEach(o,a),i}var G0=F0;function F0(e,t){for(var r=0,n=1;n<t.length;++n)r+=U0(e,t[n-1],t[n]);return r}function U0(e,t,r){for(var n=d.zipObject(r,d.map(r,function(u,h){return h})),i=d.flatten(d.map(t,function(u){return d.sortBy(d.map(e.outEdges(u),function(h){return{pos:n[h.w],weight:e.edge(h).weight}}),"pos")}),!0),a=1;a<r.length;)a<<=1;var o=2*a-1;a-=1;var s=d.map(new Array(o),function(){return 0}),c=0;return d.forEach(i.forEach(function(u){var h=u.pos+a;s[h]+=u.weight;for(var l=0;h>0;)h%2&&(l+=s[h+1]),h=h-1>>1,s[h]+=u.weight;c+=u.weight*l})),c}var z0=H0;function H0(e,t){return d.map(t,function(r){var n=e.inEdges(r);if(n.length){var i=d.reduce(n,function(a,o){var s=e.edge(o),c=e.node(o.v);return{sum:a.sum+s.weight*c.order,weight:a.weight+s.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var V0=W0;function W0(e,t){var r={};d.forEach(e,function(i,a){var o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};d.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),d.forEach(t.edges(),function(i){var a=r[i.v],o=r[i.w];!d.isUndefined(a)&&!d.isUndefined(o)&&(o.indegree++,a.out.push(r[i.w]))});var n=d.filter(r,function(i){return!i.indegree});return q0(n)}function q0(e){var t=[];function r(a){return function(o){o.merged||(d.isUndefined(o.barycenter)||d.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&Y0(a,o)}}function n(a){return function(o){o.in.push(a),--o.indegree==0&&e.push(o)}}for(;e.length;){var i=e.pop();t.push(i),d.forEach(i.in.reverse(),r(i)),d.forEach(i.out,n(i))}return d.map(d.filter(t,function(a){return!a.merged}),function(a){return d.pick(a,["vs","i","barycenter","weight"])})}function Y0(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var Z0=K0;function K0(e,t){var r=A.partition(e,function(h){return d.has(h,"barycenter")}),n=r.lhs,i=d.sortBy(r.rhs,function(h){return-h.i}),a=[],o=0,s=0,c=0;n.sort(X0(!!t)),c=_o(a,i,c),d.forEach(n,function(h){c+=h.vs.length,a.push(h.vs),o+=h.barycenter*h.weight,s+=h.weight,c=_o(a,i,c)});var u={vs:d.flatten(a,!0)};return s&&(u.barycenter=o/s,u.weight=s),u}function _o(e,t,r){for(var n;t.length&&(n=d.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function X0(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var Q0=wo;function wo(e,t,r,n){var i=e.children(t),a=e.node(t),o=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,c={};o&&(i=d.filter(i,function(p){return p!==o&&p!==s}));var u=z0(e,i);d.forEach(u,function(p){if(e.children(p.v).length){var g=wo(e,p.v,r,n);c[p.v]=g,d.has(g,"barycenter")&&ey(p,g)}});var h=V0(u,r);J0(h,c);var l=Z0(h,n);if(o&&(l.vs=d.flatten([o,l.vs,s],!0),e.predecessors(o).length)){var f=e.node(e.predecessors(o)[0]),v=e.node(e.predecessors(s)[0]);d.has(l,"barycenter")||(l.barycenter=0,l.weight=0),l.barycenter=(l.barycenter*l.weight+f.order+v.order)/(l.weight+2),l.weight+=2}return l}function J0(e,t){d.forEach(e,function(r){r.vs=d.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function ey(e,t){d.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var ty=Y.Graph,ny=ry;function ry(e,t,r){var n=iy(e),i=new ty({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return e.node(a)});return d.forEach(e.nodes(),function(a){var o=e.node(a),s=e.parent(a);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||n),d.forEach(e[r](a),function(c){var u=c.v===a?c.w:c.v,h=i.edge(u,a),l=d.isUndefined(h)?0:h.weight;i.setEdge(u,a,{weight:e.edge(c).weight+l})}),d.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function iy(e){for(var t;e.hasNode(t=d.uniqueId("_root")););return t}var oy=ay;function ay(e,t,r){var n={},i;d.forEach(r,function(a){for(var o=e.parent(a),s,c;o;){if(s=e.parent(o),s?(c=n[s],n[s]=o):(c=i,i=o),c&&c!==o){t.setEdge(c,o);return}o=s}})}var sy=Y.Graph,uy=cy;function cy(e){var t=A.maxRank(e),r=Eo(e,d.range(1,t+1),"inEdges"),n=Eo(e,d.range(t-1,-1,-1),"outEdges"),i=B0(e);xo(e,i);for(var a=Number.POSITIVE_INFINITY,o,s=0,c=0;c<4;++s,++c){hy(s%2?r:n,s%4>=2),i=A.buildLayerMatrix(e);var u=G0(e,i);u<a&&(c=0,o=d.cloneDeep(i),a=u)}xo(e,o)}function Eo(e,t,r){return d.map(t,function(n){return ny(e,n,r)})}function hy(e,t){var r=new sy;d.forEach(e,function(n){var i=n.graph().root,a=Q0(n,i,r,t);d.forEach(a.vs,function(o,s){n.node(o).order=s}),oy(n,r,a.vs)})}function xo(e,t){d.forEach(t,function(r){d.forEach(r,function(n,i){e.node(n).order=i})})}var ly=Y.Graph,fy={positionX:dy,findType1Conflicts:To,findType2Conflicts:So,addConflict:cn,hasConflict:ko,verticalAlignment:Mo,horizontalCompaction:Po,alignCoordinates:Oo,findSmallestWidthAlignment:Ao,balance:Co};function To(e,t){var r={};function n(i,a){var o=0,s=0,c=i.length,u=d.last(a);return d.forEach(a,function(h,l){var f=py(e,h),v=f?e.node(f).order:c;(f||h===u)&&(d.forEach(a.slice(s,l+1),function(p){d.forEach(e.predecessors(p),function(g){var m=e.node(g),y=m.order;(y<o||v<y)&&!(m.dummy&&e.node(p).dummy)&&cn(r,g,p)})}),s=l+1,o=v)}),a}return d.reduce(t,n),r}function So(e,t){var r={};function n(a,o,s,c,u){var h;d.forEach(d.range(o,s),function(l){h=a[l],e.node(h).dummy&&d.forEach(e.predecessors(h),function(f){var v=e.node(f);v.dummy&&(v.order<c||v.order>u)&&cn(r,f,h)})})}function i(a,o){var s=-1,c,u=0;return d.forEach(o,function(h,l){if(e.node(h).dummy==="border"){var f=e.predecessors(h);f.length&&(c=e.node(f[0]).order,n(o,u,l,s,c),u=l,s=c)}n(o,u,o.length,c,a.length)}),o}return d.reduce(t,i),r}function py(e,t){if(e.node(t).dummy)return d.find(e.predecessors(t),function(r){return e.node(r).dummy})}function cn(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function ko(e,t,r){if(t>r){var n=t;t=r,r=n}return d.has(e[t],r)}function Mo(e,t,r,n){var i={},a={},o={};return d.forEach(t,function(s){d.forEach(s,function(c,u){i[c]=c,a[c]=c,o[c]=u})}),d.forEach(t,function(s){var c=-1;d.forEach(s,function(u){var h=n(u);if(h.length){h=d.sortBy(h,function(g){return o[g]});for(var l=(h.length-1)/2,f=Math.floor(l),v=Math.ceil(l);f<=v;++f){var p=h[f];a[u]===u&&c<o[p]&&!ko(r,u,p)&&(a[p]=u,a[u]=i[u]=i[p],c=o[p])}}})}),{root:i,align:a}}function Po(e,t,r,n,i){var a={},o=vy(e,t,r,i),s=i?"borderLeft":"borderRight";function c(l,f){for(var v=o.nodes(),p=v.pop(),g={};p;)g[p]?l(p):(g[p]=!0,v.push(p),v=v.concat(f(p))),p=v.pop()}function u(l){a[l]=o.inEdges(l).reduce(function(f,v){return Math.max(f,a[v.v]+o.edge(v))},0)}function h(l){var f=o.outEdges(l).reduce(function(p,g){return Math.min(p,a[g.w]-o.edge(g))},Number.POSITIVE_INFINITY),v=e.node(l);f!==Number.POSITIVE_INFINITY&&v.borderType!==s&&(a[l]=Math.max(a[l],f))}return c(u,o.predecessors.bind(o)),c(h,o.successors.bind(o)),d.forEach(n,function(l){a[l]=a[r[l]]}),a}function vy(e,t,r,n){var i=new ly,a=e.graph(),o=gy(a.nodesep,a.edgesep,n);return d.forEach(t,function(s){var c;d.forEach(s,function(u){var h=r[u];if(i.setNode(h),c){var l=r[c],f=i.edge(l,h);i.setEdge(l,h,Math.max(o(e,u,c),f||0))}c=u})}),i}function Ao(e,t){return d.minBy(d.values(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return d.forIn(r,function(a,o){var s=my(e,o)/2;n=Math.max(a+s,n),i=Math.min(a-s,i)}),n-i})}function Oo(e,t){var r=d.values(t),n=d.min(r),i=d.max(r);d.forEach(["u","d"],function(a){d.forEach(["l","r"],function(o){var s=a+o,c=e[s],u;if(c!==t){var h=d.values(c);u=o==="l"?n-d.min(h):i-d.max(h),u&&(e[s]=d.mapValues(c,function(l){return l+u}))}})})}function Co(e,t){return d.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=d.sortBy(d.map(e,n));return(i[1]+i[2])/2})}function dy(e){var t=A.buildLayerMatrix(e),r=d.merge(To(e,t),So(e,t)),n={},i;d.forEach(["u","d"],function(o){i=o==="u"?t:d.values(t).reverse(),d.forEach(["l","r"],function(s){s==="r"&&(i=d.map(i,function(l){return d.values(l).reverse()}));var c=(o==="u"?e.predecessors:e.successors).bind(e),u=Mo(e,i,r,c),h=Po(e,i,u.root,u.align,s==="r");s==="r"&&(h=d.mapValues(h,function(l){return-l})),n[o+s]=h})});var a=Ao(e,n);return Oo(n,a),Co(n,e.graph().align)}function gy(e,t,r){return function(n,i,a){var o=n.node(i),s=n.node(a),c=0,u;if(c+=o.width/2,d.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(c+=r?u:-u),u=0,c+=(o.dummy?t:e)/2,c+=(s.dummy?t:e)/2,c+=s.width/2,d.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(c+=r?u:-u),u=0,c}}function my(e,t){return e.node(t).width}var by=fy.positionX,_y=yy;function yy(e){e=A.asNonCompoundGraph(e),wy(e),d.forEach(by(e),function(t,r){e.node(r).x=t})}function wy(e){var t=A.buildLayerMatrix(e),r=e.graph().ranksep,n=0;d.forEach(t,function(i){var a=d.max(d.map(i,function(o){return e.node(o).height}));d.forEach(i,function(o){e.node(o).y=n+a/2}),n+=a+r})}var Ey=A.normalizeRanks,xy=A.removeEmptyRanks,se=A,Ty=Y.Graph,ky=Sy;function Sy(e,t){var r=t&&t.debugTiming?se.time:se.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return Ay(e)});r("  runLayout",function(){My(n,r)}),r("  updateInputGraph",function(){Py(e,n)})})}function My(e,t){t("    makeSpaceForEdgeLabels",function(){Oy(e)}),t("    removeSelfEdges",function(){By(e)}),t("    acyclic",function(){Ja.run(e)}),t("    nestingGraph.run",function(){po.run(e)}),t("    rank",function(){w0(se.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){Cy(e)}),t("    removeEmptyRanks",function(){xy(e)}),t("    nestingGraph.cleanup",function(){po.cleanup(e)}),t("    normalizeRanks",function(){Ey(e)}),t("    assignRankMinMax",function(){$y(e)}),t("    removeEdgeLabelProxies",function(){Ny(e)}),t("    normalize.run",function(){no.run(e)}),t("    parentDummyChains",function(){S0(e)}),t("    addBorderSegments",function(){N0(e)}),t("    order",function(){uy(e)}),t("    insertSelfEdges",function(){Fy(e)}),t("    adjustCoordinateSystem",function(){mo.adjust(e)}),t("    position",function(){_y(e)}),t("    positionSelfEdges",function(){Gy(e)}),t("    removeBorderNodes",function(){Dy(e)}),t("    normalize.undo",function(){no.undo(e)}),t("    fixupEdgeLabelCoords",function(){Ry(e)}),t("    undoCoordinateSystem",function(){mo.undo(e)}),t("    translateGraph",function(){Iy(e)}),t("    assignNodeIntersects",function(){Ly(e)}),t("    reversePoints",function(){jy(e)}),t("    acyclic.undo",function(){Ja.undo(e)})}function Py(e,t){d.forEach(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),d.forEach(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,d.has(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var Uy=["nodesep","edgesep","ranksep","marginx","marginy"],Hy={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},zy=["acyclicer","ranker","rankdir","align"],Wy=["width","height"],Vy={width:0,height:0},qy=["minlen","weight","width","height","labeloffset"],Yy={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ky=["labelpos"];function Ay(e){var t=new Ty({multigraph:!0,compound:!0}),r=hn(e.graph());return t.setGraph(d.merge({},Hy,un(r,Uy),d.pick(r,zy))),d.forEach(e.nodes(),function(n){var i=hn(e.node(n));t.setNode(n,d.defaults(un(i,Wy),Vy)),t.setParent(n,e.parent(n))}),d.forEach(e.edges(),function(n){var i=hn(e.edge(n));t.setEdge(n,d.merge({},Yy,un(i,qy),d.pick(i,Ky)))}),t}function Oy(e){var t=e.graph();t.ranksep/=2,d.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function Cy(e){d.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),a={rank:(i.rank-n.rank)/2+n.rank,e:t};se.addDummyNode(e,"edge-proxy",a,"_ep")}})}function $y(e){var t=0;d.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=d.max(t,n.maxRank))}),e.graph().maxRank=t}function Ny(e){d.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function Iy(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=e.graph(),o=a.marginx||0,s=a.marginy||0;function c(u){var h=u.x,l=u.y,f=u.width,v=u.height;t=Math.min(t,h-f/2),r=Math.max(r,h+f/2),n=Math.min(n,l-v/2),i=Math.max(i,l+v/2)}d.forEach(e.nodes(),function(u){c(e.node(u))}),d.forEach(e.edges(),function(u){var h=e.edge(u);d.has(h,"x")&&c(h)}),t-=o,n-=s,d.forEach(e.nodes(),function(u){var h=e.node(u);h.x-=t,h.y-=n}),d.forEach(e.edges(),function(u){var h=e.edge(u);d.forEach(h.points,function(l){l.x-=t,l.y-=n}),d.has(h,"x")&&(h.x-=t),d.has(h,"y")&&(h.y-=n)}),a.width=r-t+o,a.height=i-n+s}function Ly(e){d.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),a,o;r.points?(a=r.points[0],o=r.points[r.points.length-1]):(r.points=[],a=i,o=n),r.points.unshift(se.intersectRect(n,a)),r.points.push(se.intersectRect(i,o))})}function Ry(e){d.forEach(e.edges(),function(t){var r=e.edge(t);if(d.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function jy(e){d.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function Dy(e){d.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),a=e.node(d.last(r.borderLeft)),o=e.node(d.last(r.borderRight));r.width=Math.abs(o.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),d.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function By(e){d.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Fy(e){var t=se.buildLayerMatrix(e);d.forEach(t,function(r){var n=0;d.forEach(r,function(i,a){var o=e.node(i);o.order=a+n,d.forEach(o.selfEdges,function(s){se.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:a+ ++n,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function Gy(e){d.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,a=n.y,o=r.x-i,s=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],r.label.x=r.x,r.label.y=r.y}})}function un(e,t){return d.mapValues(d.pick(e,t),Number)}function hn(e){var t={};return d.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}var Zy=Y.Graph,Qy={debugOrdering:Xy};function Xy(e){var t=A.buildLayerMatrix(e),r=new Zy({compound:!0,multigraph:!0}).setGraph({});return d.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),d.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),d.forEach(t,function(n,i){var a="layer"+i;r.setNode(a,{rank:"same"}),d.reduce(n,function(o,s){return r.setEdge(o,s,{style:"invis"}),s})}),r}var Jy="0.8.5",$o={graphlib:Y,layout:ky,debug:Qy,util:{time:A.time,notime:A.notime},version:Jy},No=$o,Io=$o.graphlib;var H;(function(e){e[e.Element=0]="Element",e[e.ShadowRoot=1]="ShadowRoot"})(H||(H={}));var ln="__TEST_EVENT__";function e1(e){let t=e.getAttribute("data-shadowroot");if(t!=="open"&&t!=="closed")throw new Error(`Invalid data-shadowroot attribute value. Expected "open" or "closed" but received "${t}"`);let r=e.parentElement.attachShadow({mode:t});return r.append(e.content),e.remove(),r}function Lo(e){let t=0,r=[],n=l=>{let f={id:String(t++),type:0,domNode:l.domNode,label:l.label,name:l.domNode.tagName.toLocaleLowerCase()};return r.push(f),f},i=l=>{let f={id:String(t++),type:1,domNode:l.domNode,label:l.label,mode:l.domNode.mode};return r.push(f),f},{content:a}=e;if(a.children.length!==1)throw new Error(`Invalid tree. Expect 1 root element but found ${a.children.length}.`);let o=a.children[0].cloneNode(!0);if(!(o instanceof Element))throw new Error(`Invalid tree. Expected root to be an instance of Element but found ${o}.`);let s=n({domNode:o,label:o.getAttribute("id")}),c,u=[...Array.from(o.children)];for(;c=u.pop();){let l=c.getAttribute("id");if(c instanceof HTMLTemplateElement&&c.hasAttribute("data-shadowroot")){let f=e1(c);i({domNode:f,label:l}),u.push(...Array.from(f.children))}else n({domNode:c,label:l}),u.push(...Array.from(c.children))}let h=[...r.values()].filter(l=>l.type===0&&l.domNode.hasAttribute("target"));if(h.length!==1)throw new Error(`Invalid tree. Expected 1 element to have the "target" attribute, but found ${h.length} elements.`);return{root:s,target:h[0],nodes:r,getTreeNodeById(l){return r.find(f=>f.id===l)},getTreeNodeByDomNode(l){return r.find(f=>f.domNode===l)}}}function Ro(e){let{tree:t,eventConfig:r}=e,n=[];function i(o){n.push({target:t.getTreeNodeByDomNode(o.target),currentTarget:t.getTreeNodeByDomNode(o.currentTarget),composedPath:o.composedPath().map(s=>t.getTreeNodeByDomNode(s))})}for(let o of t.nodes.values())o.domNode.addEventListener(ln,i);let a=new CustomEvent(ln,r);t.target.domNode.dispatchEvent(a);for(let o of t.nodes.values())o.domNode.removeEventListener(ln,i);return n}var X;(function(e){e[e.Child=0]="Child",e[e.ShadowRoot=1]="ShadowRoot",e[e.AssignedElement=2]="AssignedElement"})(X||(X={}));var t1=50,r1=110,n1=50,i1=70,a1=50;function jo(e){let t=new Io.Graph({});t.setGraph({nodesep:i1,ranksep:a1});for(let r of e.nodes){let{id:n,type:i,domNode:a}=r;t.setNode(n,{treeNode:r,width:i===H.Element?t1:r1,height:n1});for(let o of Array.from(a.children)){let s=e.getTreeNodeByDomNode(o);t.setEdge(n,s.id,{type:X.Child})}if(a instanceof HTMLSlotElement)for(let o of a.assignedElements()){let s=e.getTreeNodeByDomNode(o);t.setEdge(n,s.id,{type:X.AssignedElement})}if(a instanceof ShadowRoot){let o=e.getTreeNodeByDomNode(a.host);t.setEdge(o.id,n,{type:X.ShadowRoot})}}return No.layout(t),t}var Do=10;function o1(e,t){if(e===t)return!1;let r=e.getRootNode();for(;r instanceof ShadowRoot;){if(r===t)return!0;r=r.host.getRootNode()}return!1}function Bo({tree:e,graph:t,root:r,rc:n}){let i=new Map,a=o=>{let s=i.get(o);if(!s){let c=e.nodes.filter(g=>o1(g.domNode,o.domNode)),u=Infinity,h=Infinity,l=-Infinity,f=-Infinity;for(let g of[o,...c]){let m=t.node(g.id);o!==g&&g.type===H.ShadowRoot&&(m=a(g)),u=Math.min(u,m.x-m.width/2),h=Math.min(h,m.y-m.height/2),l=Math.max(l,m.x+m.width/2),f=Math.max(f,m.y+m.height/2)}let v=l-u,p=f-h;s={x:u+v/2,y:h+p/2,width:v+2*Do,height:p+2*Do},i.set(o,s)}return s};for(let o of e.nodes)if(o.type===H.ShadowRoot){let s=a(o),c=n.rectangle(s.x-s.width/2,s.y-s.height/2,s.width,s.height,{fill:"white",fillStyle:"solid"});c.classList.add("shadow-tree"),r.appendChild(c)}}var Fo=C`
  .shadow-tree > path {
    fill: rgb(71 85 105 / 8%);
    stroke: rgb(71 85 105 / 50%);
  }
`;function ht(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}var ir=21;function c1({node:e,rc:t,root:r}){let{treeNode:n}=e,i=t.rectangle(e.x-e.width/2,e.y-e.height/2,e.width,e.height,{fill:"white",fillStyle:"solid"});i.setAttribute("data-graph-id",n.id),i.setAttribute("class",`node node__${n.type===H.Element?"element":"shadow-root"}`);let a=ht("text");a.setAttribute("x",String(e.x)),a.setAttribute("y",String(e.y)),a.setAttribute("dominant-baseline","central"),a.setAttribute("text-anchor","middle"),n.type===H.Element?a.textContent=`<${n.name}>`:a.innerHTML=`<tspan x="${e.x}" dy="-0.5em">Shadow Root</tspan><tspan x="${e.x}" dy="1.1em">(${n.mode==="open"?"🔓 open":"🔒 closed"})</span>`,s1({node:e,rc:t,root:i}),r.append(i),i.append(a)}function s1({node:e,root:t,rc:r}){let{treeNode:n}=e;if(!n.label)return;let i=r.rectangle(e.x+e.width/2-ir/2,e.y-e.height/2-ir/2,ir,ir,{fill:"white",fillStyle:"solid"});i.setAttribute("class","node-label");let a=ht("text");a.textContent=n.label,a.setAttribute("x",String(e.x+e.width/2)),a.setAttribute("y",String(e.y-e.height/2)),a.setAttribute("dominant-baseline","central"),a.setAttribute("text-anchor","middle"),t.append(i),i.append(a)}function Go({graph:e,root:t,rc:r}){for(let n of e.nodes()){let i=e.node(n);c1({node:i,root:t,rc:r})}}function Uo({step:e,root:t}){let{composedPath:r}=e;for(let n of Array.from(t.querySelectorAll(".node"))){let i=n.getAttribute("data-graph-id");r.some(o=>o.id===i)?n.classList.add("node__composed-path"):n.classList.remove("node__composed-path")}}var Ho=C`
  .node.node__composed-path > path {
    fill: var(--composed-path-color);
    stroke: var(--composed-path-alt-color);
    stroke-width: 1.5;
  }

  .node-label > path {
    fill: #a9d2f7;
  }
`;var u1=.8;function h1({edge:e,from:t,to:r,root:n,rc:i}){let a=i.curve(e.points.map(o=>[o.x,o.y]),{curveTightness:u1});a.setAttribute("data-from-id",t.treeNode.id),a.setAttribute("data-to-id",r.treeNode.id),a.classList.add("edge"),e.type===X.Child?a.classList.add("edge__child"):e.type===X.ShadowRoot?a.classList.add("edge__shadow-root"):e.type===X.AssignedElement&&a.classList.add("edge__assigned-element"),n.appendChild(a)}function zo({graph:e,root:t,rc:r}){for(let n of e.edges()){let i=e.node(n.v),a=e.node(n.w),o=e.edge(n);h1({from:i,to:a,edge:o,root:t,rc:r})}}var Wo=C`
  .edge path {
    stroke: #505050;
  }

  .edge__shadow-root {
    stroke-dasharray: 8;
  }

  .edge__assigned-element {
    stroke-dasharray: 1, 4;
    stroke-linecap: round;
  }
`;var l1=["target","event"],dn=50,ar=20,d1=5;function f1({pointer:e,root:t,rc:r}){let n=r.polygon([[-dn,-ar/2],[0,-ar/2],[0+5,0],[0,ar/2],[-dn,ar/2]],{fill:"white",fillStyle:"solid"});n.setAttribute("class",`pointer pointer__${e}`),t.appendChild(n);let i=ht("text");i.textContent=e,i.setAttribute("x",String(-dn+Math.floor(d1/2))),i.setAttribute("y",String(0)),i.setAttribute("dominant-baseline","central"),n.appendChild(i)}function Vo({graph:e,root:t,rc:r}){for(let n of l1)f1({pointer:n,root:t,rc:r})}function qo({step:e,graph:t,root:r}){let{target:n,currentTarget:i}=e,a=t.nodes().map(h=>t.node(h)).find(h=>h.treeNode===i),o=t.nodes().map(h=>t.node(h)).find(h=>h.treeNode===n),s=r.querySelector(".pointer__event"),c=r.querySelector(".pointer__target"),u=a===o?a.height/4:0;s.style.transform=`translate(${a.x-a.width/2}px, ${a.y-u}px)`,c.style.transform=`translate(${o.x-o.width/2}px, ${o.y+u}px)`}var Yo=C`
  .pointer {
    transition: transform 0.5s;
  }

  .pointer__event > path {
    fill: var(--current-target-color);
    stroke: var(--current-target-alt-color);
  }

  .pointer__target > path {
    fill: var(--target-color);
    stroke: var(--target-alt-color);
  }
`;var Ko=20,Zo=50;function p1({root:e}){let{width:t,height:r}=e.getBBox();e.setAttribute("viewBox",[-Zo,-Ko,t+2*Zo,r+2*Ko].join(" "))}var lt=class{constructor({root:t}){this.root=t,this.rc=di.svg(t)}setTree(t){this.root.innerHTML="",this.graph=jo(t);let r={tree:t,graph:this.graph,root:this.root,rc:this.rc};Bo(r),zo(r),Go(r),p1(r),Vo(r)}setStep(t){if(!this.graph)return;let r={step:t,graph:this.graph,root:this.root};Uo(r),qo(r)}};lt.styles=C`
    ${Fo}
    ${Ho}
    ${Wo}
    ${Yo}
  `;var v1=Object.defineProperty,g1=Object.getOwnPropertyDescriptor,or=(e,t,r,n)=>{for(var i=n>1?void 0:n?g1(t,r):t,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&v1(t,r,i),i},dt=class extends W{constructor(){super(...arguments);this.svgRoot=Hn()}render(){return N`<svg ${zn(this.svgRoot)}></svg>`}firstUpdated(){let e=this.svgRoot.value;this.graphRender=new lt({root:e})}updated(e){var r,n;e.has("tree")&&((r=this.graphRender)==null||r.setTree(this.tree));let t=this.steps[this.activeStep];(n=this.graphRender)==null||n.setStep(t)}static get styles(){return C`
      :host {
        display: flex;
        align-items: center;
      }

      svg {
        width: 100%;
        height: 100%;
        max-height: 500px;
        font-family: monospace;
      }

      ${lt.styles}
    `}};or([$()],dt.prototype,"tree",2);or([$()],dt.prototype,"steps",2);or([$()],dt.prototype,"activeStep",2);dt=or([Oe("event-graph")],dt);var Ge=bt(class extends qe{constructor(e){var t;if(super(e),e.type!==mt.ATTRIBUTE||e.name!=="class"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).filter(t=>e[t]).join(" ")}update(e,[t]){if(this.bt===void 0){this.bt=new Set;for(let n in t)t[n]&&this.bt.add(n);return this.render(t)}let r=e.element.classList;this.bt.forEach(n=>{n in t||(r.remove(n),this.bt.delete(n))});for(let n in t){let i=!!t[n];i!==this.bt.has(n)&&(i?(r.add(n),this.bt.add(n)):(r.remove(n),this.bt.delete(n)))}return D}});var m1=Object.defineProperty,b1=Object.getOwnPropertyDescriptor,sr=(e,t,r,n)=>{for(var i=n>1?void 0:n?b1(t,r):t,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&m1(t,r,i),i};function cr(e){return e.type===H.Element?`${e.name}${e.label?`#${e.label}`:""}`:`[shadow-root${e.label?`#${e.label}`:""}]`}var Ue=class extends W{constructor(){super(...arguments);this.steps=[],this.activeStep=0}dispatchStepChange(e){let t=new CustomEvent("stepchange",{detail:{step:e}});this.dispatchEvent(t)}handleListKey(e){if(e.code==="Enter"||e.code==="Space"){let{step:t}=e.target.dataset;if(!t)return;e.preventDefault(),this.dispatchStepChange(parseInt(t))}}render(){let{steps:e,activeStep:t,eventConfig:r}=this,n=e.map((i,a)=>{let o,s,{currentTarget:c,target:u,composedPath:h}=e[t];a===0?o=N`
          <p>
            Dispatching a ${r.bubbles?"":"non-"}bubbling and
            ${r.composed?"":"non-"}composed event on
            <b class=${Ge({"current-target":c===i.currentTarget})}
              >${cr(i.currentTarget)}.</b
            >
          </p>
        `:(o=N`<p>
          Event propagates to
          <b class=${Ge({"current-target":c===i.currentTarget})}
            >${cr(i.currentTarget)}</b
          >.
        </p>`,s=e[a-1]),i.target!==(s==null?void 0:s.target)&&(o=N`
          ${o}
          <p>
            Target updated to
            <b class=${Ge({target:u===i.target})}>${cr(i.target)}</b
            >.
          </p>
        `);let f=i.composedPath.length!==(s==null?void 0:s.composedPath.length)||i.composedPath.some((g,m)=>g!==(s==null?void 0:s.composedPath[m])),v=h.length===i.composedPath.length&&h.every((g,m)=>g===i.composedPath[m]);f&&(o=N`
          ${o}
          <p>
            Composed path updated to
            <b class=${Ge({"composed-path":v})}
              >[${i.composedPath.map(g=>cr(g)).join(", ")}]</b
            >.
          </p>
        `);let p=a===t;return N`<li
        class="step ${Ge({active:p})}"
        tabindex="0"
        aria-selected="${String(p)}"
        @click=${()=>this.dispatchStepChange(a)}
        data-step="${a}"
      >
        <div class="counter">${a+1}</div>
        <div class="description">${o}</div>
      </li>`});return N`
      <div class="step-controls">
        <button
          ?disabled=${t===0}
          @click=${()=>this.dispatchStepChange(t-1)}
        >
          <b>❬</b> Previous step
        </button>
        <button
          ?disabled=${t===e.length-1}
          @click=${()=>this.dispatchStepChange(t+1)}
        >
          Next step <b>❭</b>
        </button>
      </div>

      <ol @keydown=${this.handleListKey}>
        ${n}
      </ol>
    `}};Ue.styles=C`
    :host {
      display: block;

      --button-color: #3b82f6;
      --button-hover: #2b6cb0;

      --step-active-background: #f3f4f6;

      --step-counter-background: #9ca3af;
      --step-counter-active-background: #3b82f6;
    }

    ol,
    li {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    /* Reset */
    button {
      font-family: inherit;
      font-size: inherit;
      margin: 0;
      padding: 0;
      background-color: transparent;
      background-image: none;
      border: none;
      cursor: pointer;
    }

    button {
      padding: 0.5rem 1rem;
      color: #fff;
      background: var(--button-color);
      border-radius: var(--border-radius);
    }

    button:hover {
      background: var(--button-hover);
    }

    button[disabled] {
      background: var(--button-color);
      opacity: 0.5;
    }

    .step-controls {
      display: flex;
      justify-content: space-between;
      gap: var(--spacing-medium);
      margin-bottom: var(--spacing-medium);
    }

    .steps-controls button {
      display: block;
    }

    .step {
      padding: var(--spacing-medium);
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .step .counter {
      margin: 0 1em;
      border-radius: 1em;
      line-height: 2em;
      width: 2em;
      min-width: 2em;
      font-weight: 600;
      text-align: center;
      color: #fff;
      background: var(--step-counter-background);
    }

    .description {
      line-height: 1.3em;
      flex-grow: 1;
    }

    .description p {
      margin: 0.3em;
    }

    .description .current-target {
      color: var(--current-target-alt-color);
    }

    .description .target {
      color: var(--target-alt-color);
    }

    .description .composed-path {
      color: var(--composed-path-alt-color);
    }

    /* Step variant */

    .step.active,
    .step:hover,
    .step:focus {
      background: var(--step-active-background);
    }

    .step.active .counter {
      background: var(--step-counter-active-background);
    }

    .step.active .description {
      color: var(--color);
    }
  `;sr([$()],Ue.prototype,"steps",2);sr([$()],Ue.prototype,"activeStep",2);sr([$()],Ue.prototype,"eventConfig",2);Ue=sr([Oe("event-steps")],Ue);var Xo=()=>N`
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/>
    <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/>
  </svg>
`;function Qo(e){let t=e.label,n=e.outerHTML;n+=`
 <script type="module" src="https://cdn.skypack.dev/@pmdartus/event-visualizer"></script>`;let i={title:t,html:n,layout:"left",editors:"100"},a=document.createElement("form");a.action="https://codepen.io/pen/define",a.method="POST",a.target="_blank",a.style.display="none";let o=document.createElement("input");o.name="data",o.value=JSON.stringify(i),a.append(o),document.body.append(a),a.submit(),a.remove()}var y1=Object.defineProperty,_1=Object.getOwnPropertyDescriptor,Ee=(e,t,r,n)=>{for(var i=n>1?void 0:n?_1(t,r):t,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&y1(t,r,i),i},Q=class extends W{constructor(){super(...arguments);this.label="Event propagation",this.eventBubbles=!1,this.eventComposed=!1,this.steps=[],this.activeStep=0}handleTreeChange(){this.computeTree(),this.computeEventDispatchingStep()}computeTree(){let e=this.querySelector("template");if(e)try{this.tree=Lo(e)}catch(t){console.warn(`Invalid event tree: ${t.message}`)}}computeEventDispatchingStep(){let{tree:e}=this;if(!e)return;let t=Ro({tree:e,eventConfig:{bubbles:this.eventBubbles,composed:this.eventComposed}});this.steps=t,this.activeStep=0}updated(e){(e.has("eventComposed")||e.has("eventBubbles"))&&this.computeEventDispatchingStep()}handleEditClick(e){e.preventDefault(),Qo(this)}render(){return N`
      <div class="header">
        <div class="header__left">
          <div class="label">${this.label}</div>
          <a href="#" @click=${this.handleEditClick}> ${Xo()} Edit </a>
        </div>

        <div class="event-config">
          <div class="event-config__option">
            <input
              id="bubbles"
              type="checkbox"
              .checked=${this.eventBubbles}
              @change=${e=>this.eventBubbles=e.target.checked}
            />
            <label for="bubbles">bubbles</label>
          </div>

          <div class="event-config__option">
            <input
              id="composed"
              type="checkbox"
              .checked=${this.eventComposed}
              @change=${e=>this.eventComposed=e.target.checked}
            />
            <label for="composed">composed</label>
          </div>
        </div>
      </div>

      <div class="main">
        <event-graph
          .tree=${this.tree}
          .steps=${this.steps}
          .activeStep=${this.activeStep}
        ></event-graph>

        <event-steps
          .steps=${this.steps}
          .activeStep=${this.activeStep}
          .eventConfig=${{bubbles:this.eventBubbles,composed:this.eventComposed}}
          @stepchange=${e=>this.activeStep=e.detail.step}
        ></event-steps>
      </div>

      <slot @slotchange=${this.handleTreeChange}></slot>
    `}};Q.styles=C`
    :host {
      --font-family: Helvetica, Arial, Sans-Serif;
      --color: #212121;
      --color-light: #64748b;
      --background-color: #fff;

      --border-style: 1px solid #cdced0;
      --border-radius: 3px;

      --spacing-small: 6px;
      --spacing-medium: 12px;

      --target-color: #b39ddb;
      --target-alt-color: #5e35b1;
      --current-target-color: #a5d6a7;
      --current-target-alt-color: #2e7d32;
      --composed-path-color: #fde68a;
      --composed-path-alt-color: #ff6f00;
    }

    :host {
      all: initial;

      font-family: var(--font-family);
      color: var(--color);
      background-color: var(--background-color);

      border: var(--border-style);
      border-radius: var(--border-radius);

      display: flex;
      flex-direction: column;
    }

    .main {
      display: flex;
      flex-direction: column;
    }

    event-graph {
      flex-grow: 1;
      align-self: stretch;
    }

    event-steps {
      padding: var(--spacing-medium);
    }

    @media (min-width: 680px) {
      .main {
        flex-direction: row;
      }

      event-steps {
        max-width: 400px;
      }
    }

    .header {
      display: flex;
      border-bottom: var(--border-style);
      padding: var(--spacing-medium);
    }

    .header .header__left {
      flex-grow: 1;
      margin-right: var(--spacing-medium);
    }

    .header .label {
      font-weight: 600;
      margin-bottom: 3px;
    }

    .header a {
      color: var(--color-light);
      text-decoration: none;
    }

    .event-config {
      color: var(--color-light);
    }

    .event-config__option {
      display: flex;
      align-items: baseline;
    }
  `;Ee([$({attribute:"label",type:String})],Q.prototype,"label",2);Ee([$({attribute:"event-bubbles",reflect:!0,type:Boolean})],Q.prototype,"eventBubbles",2);Ee([$({attribute:"event-composed",reflect:!0,type:Boolean})],Q.prototype,"eventComposed",2);Ee([$()],Q.prototype,"tree",2);Ee([$()],Q.prototype,"steps",2);Ee([$()],Q.prototype,"activeStep",2);Q=Ee([Oe("event-visualizer")],Q);var Jo=Q;var w1=Jo;export{w1 as default};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
//# sourceMappingURL=//.//main.js.map
